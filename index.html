<!DOCTYPE html>
<html>
<div class="powerPopup">
  <div class="powerPopupContent">
    <div  class="powerCloseButtonWrapper" onclick="hidePowerPopup();">
      <img src="img/cancel.png" width="32" height="32"></img>
    </div>
    <div  id="powerPopupContent">
    </div>

  </div>
</div>
  <head>
   <meta charset="utf-8">
   <link rel="stylesheet" type="text/css" href="css/powerwidgets.css">
   <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
   <link href="https://fonts.googleapis.com/css?family=Fredoka+One" rel="stylesheet">
   <link href="css/switchery.css" rel="stylesheet">
   <script type="text/javascript" src="js/switchery.js"></script>

   <script type="text/javascript" src="//city.power-h2020.eu/redesign_js/client.js"></script> <!-- need to include this script to talk with the api -->
  </head>

  <body  onresize="resize()">

    <div class="indicators">
      <div class="indicator indicatora">
        <div class="powerMessage" style="height: 30px !important;color: white;">
          <span style="display:flex;flex-direction:row;" >
            <span style="font-size:1.5em !important;padding-left: 10px;"><span class="lan_total_points"> Total Score:&nbsp; </span><span id="total_score"></span></span>
            <span style="display: flex;flex-direction: row;justify-content: space-between;flex: .8;" id="links">

            </span>
          </span>
        </div>
        <!-- <div class="arrow-down" onclick="toggleHideableArea(this)" data="1"></div> -->
        <div class="powerTitle" id="preparedness"> <span class="lan_title_personal_preparedness"> Personal Preparedness </span> <img src="img/information.png" height="22" width="22" class="infoButton" onclick="m1()"></img></div>
        <div class="hideable-area">
          <div class="toggleWrapper">
            <input type="checkbox" class="js-switch" checked />
            <div style="font-family: 'Fredoka One', cursive;" class="lan_show_levels">Show Community</div>
            <img src="img/information.png" height="22" width="22" class="infoButton" onclick="m6()"></img>
          </div>
          <div class="circularWrapper">
            <div class="svgWrapper">
              <div class="circularTitle" ><span id="problem_awareness" style="color: #6d0949;">Problem<br> Awareness </span><br><span style="font-size: small;"></span></div>
              <svg
                 class="progress-ring"
                 width="140"
                 fill="#13377f"
                 height="140"
                 shape-rendering="geometricPrecision"
                 >
                <circle
                  id="circ_1"
                  class="progress-ring__circle"
                  transform="rotate(-90 0 0)"
                  stroke="#6d0949"
                  stroke-width="50"
                  fill="#13377f"
                  r="30"
                  cx="70"
                  cy="70"/>
                <circle
                  stroke="white"
                  stroke-width="2"
                  fill="#6d0949"
                  r="30"
                  cx="70"
                  cy="70"/>
                <circle
                  stroke="#6d0949"
                  stroke-width="2"
                  fill="transparent"
                  r="57"
                  cx="70"
                  cy="70"/>
                <line x1="0" y1="70" x2="140" y2="70" style="stroke:rgb(109,9,73);stroke-width:2"/>
                <line x1="70" y1="0" x2="70" y2="140" style="stroke:rgb(109,9,73);stroke-width:2"/>

                <image xlink:href="img/prob_awe.png" height="140" width="140"  rx="15" ry="15" />

              </svg>
              <div class="points_flex">
                <div class="points_row l">
                  <div class="points_left" id="pa_points">
                    0
                  </div>
                   <div class="circularLevelsWrapper" id="circularLevels1">
                    <img src="img/circ_talk_gray.png" class="iconsmall"/>
                    <img src="img/circ_talk_gray.png" class="iconsmall"/>
                    <img src="img/circ_talk_gray.png" class="iconsmall"/>
                  </div>
                </div>
                <div class="points_separator">
                  /
                </div>
                <div class="points_row r">
                  <div class="points_right" id="pag_points">
                    0
                  </div>
                  <div class="community_label">
                    Community
                  </div>
                </div>
              </div>

            </div>
            <div class="svgWrapper">
              <div class="circularTitle" ><span id="know_how">Know- <br>How</span><br> <span  style="font-size: small;"></span></div>

              <svg
                 class="progress-ring"
                 width="140"
                 fill="#13377f"
                 height="140"
                 shape-rendering="geometricPrecision"
                 >
                <circle
                  class="progress-ring__circle"
                  transform="rotate(-90 0 0)"
                  stroke="#13377f"
                  stroke-width="50"
                  fill="#13377f"
                  r="30"
                  cx="70"
                  cy="70"
                  id="circ_2"
                  />
                <circle
                  stroke="white"
                  stroke-width="2"
                  fill="#13377f"
                  r="30"
                  cx="70"
                  cy="70"/>
                <circle
                  stroke="#13377f"
                  stroke-width="2"
                  fill="transparent"
                  r="57"
                  cx="70"
                  cy="70"/>
                  <line x1="0" y1="70" x2="140" y2="70" style="stroke:rgb(19,55,127);stroke-width:2"/>
                  <line x1="70" y1="0" x2="70" y2="140" style="stroke:rgb(19,55,127);stroke-width:2"/>
                <image xlink:href="img/idea.png" height="140" width="140"  rx="15" ry="15" />
              </svg>
              <div class="points_flex">
                <div class="points_row l">
                  <div class="points_left kh_bg" id="kh_points">
                    0
                  </div>
                  <div class="circularLevelsWrapper"  id="circularLevels2">
                    <img src="img/circ_idea_gray.png" class="iconsmall"/>
                    <img src="img/circ_idea_gray.png" class="iconsmall"/>
                    <img src="img/circ_idea_gray.png" class="iconsmall"/>
                  </div>
                </div>
                <div class="points_separator kh_txt">
                  /
                </div>
                <div class="points_row r">
                  <div class="points_right kh_txt" id="khg_points">
                    0
                  </div>
                  <div class="community_label kh_txt">
                    Community
                  </div>
                </div>
              </div>


            </div>

            <div class="svgWrapper">
              <div class="circularTitle" ><span id="ready_to_act" class="ra_txt">Ready <br>to Act</span><br><span style="font-size: small;"></span></div>

              <svg
                 class="progress-ring"
                 width="140"
                 fill="#493f8d"
                 height="140"
                 shape-rendering="geometricPrecision"
                 >
                <circle
                  class="progress-ring__circle"
                  transform="rotate(-90 0 0)"
                  stroke="#493f8d"
                  stroke-width="50"
                  fill="#493f8d"
                  r="30"
                  cx="70"
                  cy="70"
                  id="circ_3"
                  />
                <circle
                  stroke="white"
                  stroke-width="2"
                  fill="#493f8d"
                  r="30"
                  cx="70"
                  cy="70"/>
                <circle
                  stroke="#493f8d"
                  stroke-width="2"
                  fill="transparent"
                  r="57"
                  cx="70"
                  cy="70"/>
                  <line x1="0" y1="70" x2="140" y2="70" style="stroke:rgb(73,63,141);stroke-width:2"/>
                  <line x1="70" y1="0" x2="70" y2="140" style="stroke:rgb(73,63,141);stroke-width:2"/>
                <image xlink:href="img/ready_act.png" height="140" width="140"  rx="15" ry="15" />
              </svg>
              <div class="points_flex">
                <div class="points_row l">
                  <div class="points_left ra_bg" id="ra_points" >
                    0
                  </div>
                  <div class="circularLevelsWrapper" id="circularLevels3">
                    <img src="img/circ_stopwatch_gray.png" class="iconsmall"/>
                    <img src="img/circ_stopwatch_gray.png" class="iconsmall"/>
                    <img src="img/circ_stopwatch_gray.png" class="iconsmall"/>
                  </div>
                </div>
                <div class="points_separator ra_txt">
                  /
                </div>
                <div class="points_row r">
                  <div class="points_right ra_txt" id="rag_points" >
                    0
                  </div>
                  <div class="community_label ra_txt">
                    Community
                  </div>
                </div>
              </div>

            </div>
        </div>
      </div>


      </div>
    <div class="powerMessage">&nbsp;</div>

      <div class="indicator indicatorb">
        <!-- <div class="arrow-down" onclick="toggleHideableArea(this)"></div> -->

        <div class="powerTitle" > <span class="lan_title_personal_impact"> Personal Impact </span><img src="img/information.png" height="22" width="22" class="infoButton" onclick="m2()"></img></div>
        <div class="hideable-area" style="padding-bottom: 20px;">
          <div class="toggleWrapper">
            <input type="checkbox" class="js-switch" checked />
            <div style="font-family: 'Fredoka One', cursive;" class="lan_show_levels">Show Community</div>
            <img src="img/information.png" height="22" width="22" class="infoButton" onclick="m6()"></img>
          </div>

          <div class="points_flex_bar">
            <div class="powerRowTitle in_txt">Individual</div>
            <div class="points_bar_wrapper">
              <div class="points_row_bar">
                <div class="points_left_bar in_bg" id="bar_title_score_IN">
                  0
                </div>
                 <div class="powerBarLevelsWrapper" id="powerBarLevels3" style="display: block;">
                   <img src="img/people.png" class="iconsmall"/>
                   <img src="img/people.png" class="iconsmall"/>
                   <img src="img/people_gray.png" class="iconsmall"/>
                 </div>
              </div>
              <div class="points_separator_bar in_txt">
                /
              </div>
              <div class="points_row_bar r">
                <div class="points_right_bar in_txt" id="bar_title_score_IN_g">
                  0
                </div>
                <div class="community_label_barp in_txt">
                  Community
                </div>
              </div>
            </div>
          </div>
          <div class="powerRow">
            <div class="iconWrapper individual">
              <img src="img/people.png" class="icon political"/>
            </div>
            <div class="pwrapper">
              <div class="powerBar individual">
                <div class="powerScaleWrapper" style="">
                  <div class="powerScale individual">
                  </div>
                  <div class="powerScale individual">
                  </div>
                  <div class="powerScale individual">
                  </div>
                  <div class="powerScale individual">
                  </div>
                  <div class="powerScale individual">
                  </div>
                  <div class="powerScale individual">
                  </div>
                  <div class="powerScale individual">
                  </div>
                  <div class="powerScale individual">
                  </div>
                  <div class="powerScale individual">
                  </div>
                  <div class="powerScale individual">
                  </div>
                </div>
                <div class="fill individual" style="width: 0%;" id="powerBar3"></div>
              </div>
            </div>
          </div>
          </div>

        <div class="points_flex_bar">
          <div class="powerRowTitle pb_txt">Political</div>
          <div class="points_bar_wrapper">
            <div class="points_row_bar">
              <div class="points_left_bar pb_bg" id="bar_title_score_PA">
                0
              </div>
               <div class="powerBarLevelsWrapper" id="powerBarLevels1" style="display: block;">
                 <img src="img/political_gray.png" class="iconsmall">
                 <img src="img/political_gray.png" class="iconsmall">
                 <img src="img/political_gray.png" class="iconsmall">
               </div>
            </div>
            <div class="points_separator_bar pb_txt">
              /
            </div>
            <div class="points_row_bar r">
              <div class="points_right_bar pb_txt" id="bar_title_score_PA_g">
                0
              </div>
              <div class="community_label_barp pb_txt">
                Community
              </div>
            </div>
          </div>
        </div>
        <div class="powerRow">
          <div class="powerBarWrapper">
            <!-- <div class="powerBarLevelsWrapper" id="powerBarLevels1">
              <img src="img/political.png" class="iconsmall"/>
              <img src="img/political.png" class="iconsmall"/>
              <img src="img/political_gray.png" class="iconsmall"/>
            </div> -->
            <div class="iconWrapper political">
              <img src="img/political.png" class="icon political"/>
            </div>
            <div class="pwrapper">
              <div class="powerBar political">
                <div class="powerScaleWrapper" style="">
                  <div class="powerScale political">
                  </div>
                  <div class="powerScale political">
                  </div>
                  <div class="powerScale political">
                  </div>
                  <div class="powerScale political">
                  </div>
                  <div class="powerScale political">
                  </div>
                  <div class="powerScale political">
                  </div>
                  <div class="powerScale political">
                  </div>
                  <div class="powerScale political">
                  </div>
                  <div class="powerScale political">
                  </div>
                  <div class="powerScale political">
                  </div>
                </div>

                <div class="fill political" style="width: 0%;" id="powerBar1"></div>
              </div>
            </div>
          </div>
        </div>

        <div class="points_flex_bar">
          <div class="powerRowTitle so_txt">Social</div>
          <div class="points_bar_wrapper">
            <div class="points_row_bar">
                       <div class="points_left_bar so_bg" id="bar_title_score_SO">
                         0
                       </div>
                         <div class="powerBarLevelsWrapper" id="powerBarLevels2" style="display: block;">
                           <img src="img/users-group_gray.png" class="iconsmall">
                           <img src="img/users-group_gray.png" class="iconsmall">
                           <img src="img/users-group_gray.png" class="iconsmall">
                         </div>
           </div>
            <div class="points_separator_bar so_txt">
              /
            </div>
            <div class="points_row_bar r">
              <div class="points_right_bar so_txt" id="bar_title_score_SO_g">
                0
              </div>
              <div class="community_label_barp so_txt">
                Community
              </div>
            </div>
          </div>
        </div>
        <div class="powerRow">

          <!-- <div class="powerBartitle"><span class="lan_social">Social</span><br><span id="bar_title_score_SO"></span></div><div class="powerBarWrapper"> -->
            <!-- <div class="powerBarLevelsWrapper"  id="powerBarLevels2">
              <img src="img/users-group.png" class="iconsmall"/>
              <img src="img/users-group.png" class="iconsmall"/>
              <img src="img/users-group_gray.png" class="iconsmall"/>
            </div> -->
            <div class="iconWrapper social">
              <img src="img/users-group.png" class="icon political"/>
            </div>
            <div class="pwrapper">
              <div class="powerScaleWrapper" style="">
                <div class="powerScale social">
                </div>
                <div class="powerScale social">
                </div>
                <div class="powerScale social">
                </div>
                <div class="powerScale social">
                </div>
                <div class="powerScale social">
                </div>
                <div class="powerScale social">
                </div>
                <div class="powerScale social">
                </div>
                <div class="powerScale social">
                </div>
                <div class="powerScale social">
                </div>
                <div class="powerScale social">
                </div>
              </div>
              <div class="powerBar social">
                <div class="fill social" style="width: 0%;" id="powerBar2"></div>
              </div>
            </div>
          </div>
          <!-- <div class="powerBarCommunityScore"><span class="pi_points" id="g_so"><span class="pi_separator">/</span><span class="pi_points_amount">3600</span></div> -->

        </div>



      </div>

      <div class="powerMessageText lan_power_message_1" id="achievement">Become better prepared for flooding by increasing your impact and preparedness!</div>
      <div class="powerMessage" id="achievement">&nbsp;</div>
    </div>

    <div class="indicator indicatorc">
      <!-- <div class="arrow-down" onclick="toggleHideableArea(this)"></div> -->
      <div class="powerTitle" ><span id="title_flood_warden"> Flood Warden Achievement </span><img src="img/information.png" height="22" width="22" class="infoButton" onclick="m5()"></img></div>
      <div class="hideable-area">
          <div class="powerContent" style="width:100%">
            <div class="warden">
            <div id="warden_bar_0">
              <div id="warden_bar0_fill"  style="width:0%"></div>
            </div>
            <div class="badge"   id="badge1" >
              <img src="img/badge1.png" id="badge_img1"/>
              <div class="level_lbl"><b class="lan_beginner">Beginner</b> 500</div>
            </div>
            <div id="warden_bar_1">
              <div id="warden_bar1_fill"  style="width:0%"></div>
            </div>
            <div class="badge " id="badge2">
              <img src="img/badge2.png" id="badge_img2"/>
              <div class="level_lbl"><b class="lan_itermidiate">Intermediate</b> 5000</div>
            </div>
            <div id="warden_bar_2">
              <div id="warden_bar2_fill" style="width:0%"></div>
            </div>
            <div class="badge " id="badge3">
              <img src="img/badge3.png" id="badge_img3"/>
              <div class="level_lbl"><b class="lan_advanced">Advanced</b> 9000</div>
            </div>
          </div>
          </div>
      </div>
    </div>
    <span class="powerMessageText lan_power_message_2" id="community"  style="float: right;border-bottom: 2px solid #36c;" >Try hard to become an Advanced Flood Warden!</span>
    <div class="indicator indicatorc">
      <!-- <div class="arrow-down" onclick="toggleHideableArea(this)"></div> -->
      <div class="powerTitle" ><span class="lan_boost_factor">Feedback Multiplier</span><img src="img/information.png" height="22" width="22" class="infoButton" onclick="m3()"></img></div>
      <div class="hideable-area">
        <div class="powerContent" style="width:100%">
            <div class="boost_factor_wrapper">
              <div class="boost_factor 1">1.5x</div>
              <div class="boost_factor 2">2x</div>
              <div class="boost_factor 3">3x</div>
            </div>
        </div>
      </div>
    </div>
    <div class="powerMessage" id="community">&nbsp;</div>
    <div class="indicator indicatord">
      <div class="powerTitle"><span class="lan_community_preparedness">Overall view</span> <img src="img/information.png" height="22" width="22" class="infoButton" onclick="m4()"></img></div>
      <!-- <div class="arrow-down" onclick="toggleHideableArea(this)"></div> -->
      <div class="hideable-area">
      <div class="toggleWrapper">

      </div>
      <div class="toggleWrapper">
        <input type="checkbox" class="js-switch" checked  id="check_personal"/>
        <div style="font-family: 'Fredoka One', cursive;" class="lan_show_personal">Show Personal</div>
      </div>

      <div style="margin-left:auto;margin-right:auto;height:500px">
        <canvas id="spider" height="500" width="750" style="z-index:1"></canvas>
        <div class="powerMessageText lan_power_message_4" >Help the community become equally prepared for flooding in all the categories.</div>
        <div class="powerMessage">&nbsp;</div>

      </div>
      </div>
    </div>

  </div>
  </div>
  </body>
<script>
WIDTH = -1;
HEIGHT = -1;
_loc = {
  "es":{
    "lan_title_personal_preparedness":"Preparación Personal",
    "lan_title_personal_impact": "Impacto Personal",
    "problem_awareness": "Conciencia del <br>problema",
    "know_how": "Saber cómo",
    "ready_to_act": "Listo para <br>actuar",
    "lan_show_levels":"Mostrar Comunidad",
    "lan_social":"Social",
    "lan_political":"Político",
    "lan_individual":"Individual",
    "title_flood_warden":"Logro: Guardián del Agua",
    "lan_beginner":"Principiante",
    "lan_itermidiate":"Intermedio",
    "lan_advanced":"Avanzado",
    "lan_boost_factor":"Multiplicador de Realimentación",
    "lan_community_preparedness":"Vista general",
    "lan_show_personal":"Mostrar personal",
    "lan_total_points":"Puntos Totales:",
    "lan_impact":"Impacto",
    "lan_spider_ready_to_act": "Listo para actuar",
    "lan_spider_know_how": "Saber cómo",
    "lan_spider_awareness": "Conciencia",
    "lan_spider_goal":"Meta",
    "lan_community":"Comunidad",
    "lan_personal": "Personal",
    "lan_community_size": "Tamaño de la comunidad",
    "lan_community_small": "Pequeña",
    "lan_community_medium": "Media",
    "lan_community_big": "Grande",
    "lan_help_m1_title": "Preparación Personal",
    "lan_help_m1_content": "<p>Para estar preparado en la reutilización del agua, primero necesitas incrementar tu Conciencia del problema y Saber cómo en los problemas relacionados con el agua y prepararte para incrementar el uso de agua no potable.</p><p>Por ejemplo, si lees un artículo acerca de la calidad del agua en la ciudad – incrementas tu conciencia, mientras que si lees acerca de como reutilizar el agua no potable – obtienes puntos en Listo para actuar. </p>",
    "lan_help_m2_title": "",
    "lan_help_m2_content": "<p>La reutilización del agua es un problema que no solo te preocupa a ti personalmente. El impacto personal muestra como tus acciones en la plataforma pueden tener un impacto en los niveles individuales, sociales y políticos.</p><p>Por ejemplo, si compartes un artículo sobre la reutilización del agua, también tiene un impacto social. Si atiendes un evento sobre la calidad del agua, tus muestras tu participación política.</p>",
    "lan_help_m3_title": "",
    "lan_help_m3_content":"<p>Tu factor multiplicador se relaciona con la competencia en la que puedes tomar parte adicionalmente en esta plataforma. Con este factor tu voto por la idea en el concurso tendrá un peso mayor.</p>",
    "lan_help_m4_title": "",
    "lan_help_m4_content":"<p>La preparación comunitaria y el impacto muestra que tan bien está preparada tu comunidad local en promedio para incrementar el uso de agua no potable en la ciudad en varias áreas que exploramos en relación con que tan bien estás preparado para reutilizar el agua. </p><p>Por ejemplo, si en una de las categorías tu puntuación es mas alta que la de la comunidad, significa que estás mejor preparado para reutilizar el agua que el miembro promedio de la comunidad. </p><p>La meta para ti y la comunidad es intentar ganar una cantidad igual de puntos en cada una de las categorías de tal forma que tengan un circulo completo (o una forma que aparente mas un círculo que un polígono). Esto significa que están igual de preparados en todas las 9 categorías. </p>",
    "lan_help_m5_title": "",
    "lan_help_m5_content":"<p>El logro de Guardián del Agua muestra que lo que has logrado en total basado en tus actividades en la plataforma. La meta final es acumular suficientes puntos para lograr el nivel de preparación de un “Guardián Avanzado del Agua”. </p><p>Sin embargo, ya en el nivel de “Principiante” ya te vuelves consciente de la necesidad de prepararte para reutilizar el agua. En el nivel “Intermedio”, ya lograste cierta cantidad de preparación. </p>",
    "lan_help_m6_title": "",
    "lan_help_m6_content":"<p>Una vez que la barra de progreso esté llena, pasas al siguiente nivel y puedes llenar la barra desde el principio. </p><p>El nivel que ya tienes está mostrado por un ícono de color. ¡Significa que en esa categoría tienes un nivel más alto! </p>",
    "lan_power_message_0":"",
    "lan_power_message_1":"Preparate mejor en la reutilización del agua incrementando tu impacto y preparación",
    "lan_power_message_2":"Intenta volverte un Guardián Avanzado del Agua!",
    "lan_power_message_3":"",
    "lan_power_message_4":"Ayuda a la comunidad volverse igual de preparados ante las inundaciones en todas las categorías.",
  },
  "cat":{
    "lan_title_personal_preparedness":"Preparació Personal",
    "lan_title_personal_impact": "Impacte Personal",
    "problem_awareness": "Conscienciació <br>del problema",
    "know_how": "Coneixements",
    "ready_to_act": "Preparat",
    "lan_show_levels":"Mostrar Comunitat",
    "lan_social":"Social",
    "lan_political":"Polític",
    "lan_individual":"Individual",
    "title_flood_warden":"Repte de Guardia de l’Aigua",
    "lan_beginner":"Principiant",
    "lan_itermidiate":"Intermedi",
    "lan_advanced":"Avançat",
    "lan_boost_factor":"Multiplicador per valoracions",
    "lan_community_preparedness":"Vista general",
    "lan_show_personal":"Mostra el personal",
    "lan_total_points":"Puntuació Total:",
    "lan_impact":"Impacte",
    "lan_spider_ready_to_act": "Preparat",
    "lan_spider_know_how": "Coneixements",
    "lan_spider_awareness": "Conscienciació",
    "lan_spider_goal":"Objectiu",
    "lan_community":"comunitat",
    "lan_personal": "Personal",
    "lan_community_size": "Mida de la comunitat",
    "lan_community_small": "Petita",
    "lan_community_medium": "Mitjana",
    "lan_community_big": "Gran",
    "lan_help_m1_title": "********",
    "lan_help_m1_content": "<p>Per a poder estar preparat/da per reutilitzar aigua, has d’incrementar la teva conscienciació sobre el problema, els teus coneixements en temes d’aigua i preparar-te per a incrementar l’ús d’aigua no potable.  Per exemple, si llegeixes un article sobre qualitat de l’aigua a la ciutat - incrementaràs la teva conscienciació, mentre que si llegeixes sobre com reutilitzar aigua no potable – obtindràs punt en preparat/da per a actuar.</p>",
    "lan_help_m2_title": "",
    "lan_help_m2_content": "<p>La reutilització d’aigua és un tema que no només t’afecta a tu personalment. L’impacte personal mostra com les accions que tu fas en la plataforma poden tenir impacte a nivell individual, social i polític. </p><p>Per exemple, si comparteixes un article sobre reutilització d’aigua, té també un impacte social. Si assisteixes a un esdeveniment en qualitat de l’aigua, mostres la teva participació política. </p>",
    "lan_help_m3_title": "",
    "lan_help_m3_content":"<p>El teu factor de millora està relacionat amb la competició en la que pots participar de forma addicional en aquesta plataforma.Amb aquest factor, el teu vot per la idea que participa en el concurs tindrà més pes.  </p>",
    "lan_help_m4_title": "",
    "lan_help_m4_content":"<p>L’Impacte i Preparació de la Comunitat mostra com de ben preparada està la teva comunitat local de mitjana per incrementar l’ús d’aigua no potable a la ciutat, en  les diferents àrees explorades vis a vis com de ben preparat/da estàs tu per reutilitzar aigua</p><p>Per exemple, si en una de les categories la teva puntuació és més alta que la de la comunitat, això significa que estàs més preparat/da per a reutilitzar aigua que el membre de la comunitat mitjà. </p><p>L’objectiu per tu i la comunitat és intentar guanyar un nombre de punts igual en cada una de les categories per aconseguir així un cercle complet (o una forma que s’assembla més a un cercle que a un polígon). Això significa que estàs preparat/da igual de bé en totes les 9 categories. </p>",
    "lan_help_m5_title": "",
    "lan_help_m5_content":"<p>El Repte de Guardià de l’Aigua mostra que has assolit en total basat en les teves activitats a la plataforma. L’objectiu final és aconseguir suficients punts per a obtenir el nivell de preparació d’un “Guardià de l’Aigua Avançat”. </p><p>De totes maneres, ja en el nivell “Principiant” ja t’adones de la necessitat de preparar-te per a la reutilització d’aigua. En l’ “Intermedi”, ja assoleixes un cert nivell de preparació. </p><p>Un cop la barra de progrés està plena, avances al següent nivell i comences a emplenar la barra des del principi. </p><p>Mostrar nivells presenta el nivell que ja has aconseguit mitjançant una icona de color relacionada amb la categoria on has incrementat de nivell. </p>",
    "lan_help_m6_title": "",
    "lan_help_m6_content":"<p>Una vegada la barra de progrés estigui plena, passes al següent nivell i pots emplenar la barra des del principi. </p><p>El nivell que ja tens es mostra amb una icona de color. Significa que en aquella categoria tens un nivell més alt!</p>",
    "lan_power_message_0":"",
    "lan_power_message_1":"Estigués millor preparat/da per a la reutilització d’aigua incrementant el teu impacte i preparació! ",
    "lan_power_message_2":"Esforça’t per ser un Guardià de l’Aigua de nivell avançat! ",
    "lan_power_message_3":"",
    "lan_power_message_4":"Ajuda a la comunitat a estar igualment preparada per les inundacions en totes les categories"
  },
  "en":{
    "lan_impact":"Impact",
    "lan_social":"Social",
    "lan_political":"Political",
    "lan_individual":"Individual",
    "lan_spider_ready_to_act": "Ready to act",
    "lan_spider_know_how": "Awareness",
    "lan_spider_awareness": "Know-how",
    "lan_spider_goal": "Goal",
    "lan_community":"Community",
    "lan_personal": "Personal",
    "lan_community_size": "Community size:",
    "lan_community_small": "Small",
    "lan_community_medium": "Medium",
    "lan_community_big": "Large",
    "lan_help_m1_title": "",
    "lan_help_m1_content": "<p>In order to be prepared to reuse water, you need to increase your problem awareness, know-how in water issues and become ready to increase the use of non-potable water. For example, if you read an article about water quality in the city - you increase your awareness, whereas if you read about how to reuse non-potable water - you get points in readiness to act.</p>",
    "lan_help_m2_title": "",
    "lan_help_m2_content": "<p>Water reuse is an issue that does not concern only you personally. Personal impact shows how the actions you do on the platform can have impact on individual, social and political levels. </p><p>For example, if you share an article about water reuse, it has also social impact. If you attend an event on water quality, you show your political participation.</p>",
    "lan_help_m3_title": "Your boost factor relates to the competition that you can take part additionally on this platform. With this factor your vote for the idea participating in the contest will be weighted.",
    "lan_help_m3_content":"<p>Your Feedback Multiplier relates to the competition that you can take part additionally on this platform. With this factor your vote for the idea participating in the contest will be weighted.</p>",
    "lan_help_m4_title": "",
    "lan_help_m4_content":"<p>Overall view and Impact shows how well your local community is on average prepared to increase the use of non-potable water  in the city in the various areas we explored  vis-a-vis how well you are prepared to reuse water. </p><p>For example, if in one of the categories your score is higher than that of the community, it means that you are better prepared to reuse water than an average community member. </p><p>The goal both for yourself and the community is to try to gain an equal amount of points in each of the categories so that you have a full circle (or a form which rather resembles a circle than a polygon). This means that you are equally well prepared on all 9 categories. </p>",
    "lan_help_m5_title": "",
    "lan_help_m5_content":"<p>Water Guardian achievement shows what you have achieved in total based on your activities on the platform. The ultimate goal is to collect enough points to achieve the preparedness level of an “advanced water guardian”. </p><p>However, already on the  “Beginner” level you become aware of the need to prepare yourself to reuse water. On the “intermediate” level, you already achieve a certain amount of preparedness.  </p>",
    "lan_help_m6_title": "",
    "lan_help_m6_content":"<p>Once the progress bar is full, you go to the next level and you fill the bar from the start.</p><p>Show Community displays the level you have already achieved by a colored icon relating to the category where the level has been increased.</p>",
    "lan_power_message_0":"",
    "lan_power_message_1":"Become better prepared for flooding by increasing your impact and preparedness!",
    "lan_power_message_2":"Try hard to become an Advanced Flood Warden!",
    "lan_power_message_3":"",
    "lan_power_message_4":"Help the community become equally prepared for flooding in all the categories."
  },
  "he":{
    "lan_title_personal_preparedness":"מוכנות אישית",
    "lan_title_personal_impact": "דוגמא אישית",
    "problem_awareness": "בעיה<br>מודעות",
    "know_how": "בקיאות בנושא",
    "ready_to_act":"מוכנות לפעול בנושא",
    "lan_show_levels":"הצג קהילה",
    "lan_social":"חברתי",
    "lan_political":"פוליטי",
    "lan_individual":"פרטי",
    "title_flood_warden":"",
    "lan_beginner":"מתחיל",
    "lan_itermidiate":"אמצעי",
    "lan_advanced":"מתקדם",
    "lan_boost_factor":"שקלול נקודות",
    "lan_community_preparedness":"מבט כללי",
    "lan_show_personal":"הצג ניקוד אישי",
    "lan_total_points":"ניקוד כולל",
    "lan_impact":"השפעה",
    "lan_spider_ready_to_act": "מוכנות לפעול בנושא",
    "lan_spider_know_how": "בקיאות בנושא",
    "lan_spider_awareness": "בעיה"+"מודעות",
    "lan_spider_goal": "מטרה",
    "lan_community":"קהילתי",
    "lan_personal": "אישי",
    "lan_community_size": "גודל הקהילה",
    "lan_community_small": "קטן",
    "lan_community_medium": "בינוני",
    "lan_community_big": "גדול",
    "lan_help_m1_title": "",
    "lan_help_m1_content": "<p>על מנת להיות מוכן לשימור מים עליך להעלות את המודעות שלך לבעיה, להרחיב את הבקיאות שלך בנושאי מים, ולהיות מוכן לשמר מים עבור העיר.</p><p>למשל, אם תקרא מאמר בנושא גנים קהילתיים בעיר, תעלה את המודעות שלך, בעוד שאם תקרא על טיפים לעיבוד גינה משלך, תזכה בנקודות בנכונות לפעול בנושא.</p>",
    "lan_help_m2_title": "",
    "lan_help_m2_content": "<p>שימור מים הוא נושא שלא מעסיק רק אותך באופן אישי. דוגמא אישית מראה כיצד פעולות בהן אתה נוקט בפלטפורמה יכולות להשפיע ברמות אישיות, חברתיות ופוליטיות.</p><p>למשל, אם אתה משתף מאמר על גנים קהילתיים, יש לכך השפעה חברתית. אם אתה משתתף בסדנה בנושא שמירת מים, אתה מדגים בכך את מעורבותך הפוליטית.</p>",
    "lan_help_m3_title": "",
    "lan_help_m3_content":"<p>שקלול הנקודות שלך מתיחס לתחרות בה תוכל להשתתף בפלטפורמה זו. באמצעות שימוש בכלי זה, רצונך להשתתף בתחרות ילקח בחשבון.</p>",
    "lan_help_m4_title": "",
    "lan_help_m4_content":"<p>מוכנות קהילתית ודוגמא אישית מראים עד כמה הקהילה המקומית מוכנה בממוצע לשימור מים בעיר בנושאים שונים אותם סקרנו לעיל, לעומת עד כמה אתה, הפרט, מוכן לשימור מים.</p><p>למשל, אם באחת מהקטגוריות קיבלת ניקוד גבוה יותר מזה של הקהילה, משמעו של דבר שאתה מוכן יותר לשימור מים מחבר ממוצע בקהילה.</p><p>מטרתך ומטרת הקהילה היא לנסות ולצבור כמות זהה של נקודות בכל אחת מהקטגוריות, כך שתצרו מעגל שלם (או צורה שדומה יותר לעיגול מאשר למצולע). משמעו של דבר שאתם מוכנים באופן שווה בכל אחת מתשע הקטגוריות.</p>",
    "lan_help_m5_title": "",
    "lan_help_m5_content":"<p>הישגי ״שומר מים״ מראים מה השגת בסך הכל בהתחשב בפעילותיך בפלטפורמה. המטרה העילאית היא לאסוף מספיק נקודות על מנת להגיע לרמת מוכנות של ״שומר מים מתקדם״</p><p>אולם, כבר בשלב ה״מתחיל״ אתה הופך מודע לצורך להכין את עצמך לשימור מים. בשלב ה״אמצעי״, כבר הגעת לרמה מסוימת של מוכנות.</p>",
    "lan_help_m6_title": "",
    "lan_help_m6_content":"<p>לאחר שורת התקדמות מלא, אתה הולך לשלב הבא ואתה ממלא את הבר מההתחלה.</p><p>הצג רמות מציג את הרמה שכבר השגת על ידי סמל צבעוני הקשור לקטגוריה שבה רמת כבר גדל.</p>",
    "lan_power_message_0":"",
    "lan_power_message_1":"",
    "lan_power_message_2":"",
    "lan_power_message_3":"",
    "lan_power_message_4":""
  },

  "ar":{
    "lan_title_personal_preparedness":"جاهزية شخصية",
    "lan_title_personal_impact": "مثال شخصي",
    "problem_awareness": "مشكلة الوعي",
    "know_how": "المعرفة في الموضوع",
    "ready_to_act":"جاهزية للعمل في المجال",
    "lan_show_levels":"إظهار المجتمع",
    "lan_social":"اجتماعي",
    "lan_political":"سياسي",
    "lan_individual":"شخصي",
    "title_flood_warden":"",
    "lan_beginner":"مبتدأ",
    "lan_itermidiate":"متوسط",
    "lan_advanced":"متقدم",
    "lan_boost_factor":"عامل منح الحافز",
    "lan_community_preparedness":"نظرة شاملة",
    "lan_show_personal":"اعرض النقاط الشخصية",
    "lan_total_points":"نقاط إجمالية:",
    "lan_impact":"جاهزية المجتمع وتأثيره",
    "lan_spider_ready_to_act": "جاهزية للعمل في المجال",
    "lan_spider_know_how":"المعرفة في الموضوع",
    "lan_spider_awareness": "مشكلة الوعي",
    "lan_spider_goal": "الهدف",
    "lan_community":"مجتمعي",
    "lan_personal": "شخصي",
    "lan_community_size": "حجم المجتمع",
    "lan_community_small": "صغير",
    "lan_community_medium": "متوسط",
    "lan_community_big": "كبير",
    "lan_help_m1_title": "",
    "lan_help_m1_content": "<p>لكي تكون مستعداً للحفاظ على المياه يتوجب عليك رفع درجة وعيك للمشكلة, توسيع معرفتك بمواضيع المياه, وأن تكون مستعداً للمحافظة على المياه لصالح المدينة.</p><p>على سبيل المثال, اذا قرأت مقالاً بموضوع الحدائق العامة في المدينة, فسوف ترفع نسبة وعيك, بينما في حال قرأت عدة نصائح لمعالجة حديقتك, سوف تحظى بنقاط تتعلق بمدى جاهزيتك للعمل في هذا المجال.</p>",
    "lan_help_m2_title": "",
    "lan_help_m2_content": "<p>المحافظة على المياه هو موضوع لا يُشغلك أنت فقط بصورة شخصية. يُظهر المثال الشخصي كيف يُمكن للخطوات التي تتخذها في هذا المجال أن تؤثر على المستويات الشخصية, الاجتماعية والسياسية. </p><p>على سبيل المثال, اذا شاركتك مقال بموضوع الحدائق العامة فإن لهذا الأمر يوجد تأثير اجتماعي. اذا اشتركت في ورشة عمل بموضوع الحفاظ على المياه, فإنك تُعطي مثال بذلك للمشاركة السياسية.</p>",
    "lan_help_m3_title": "",
    "lan_help_m3_content":"<p>שקלול הנקודות שלך מתיחס לתחרות בה תוכל להשתתף בפלטפורמה זו. באמצעות שימוש בכלי זה, רצונך להשתתף בתחרות ילקח בחשבון.</p>",
    "lan_help_m4_title": "",
    "lan_help_m4_content":"<p>الاستعداد الجماهيري والمثالي الشخصي تُظهر مدى استعداد المجتمع المحلي بصورة متوسطة للحفاظ على المياه بمواضيع مختلفة قمنا بالتطرق اليها أعلاه, مقارنة, بمدى جاهزيتك أنت كفرد للحفاظ على المياه.</p><p>على سبيل المثال, اذا حصلت في إحدى الفئات على نقاط أكبر من المجتمع, فإن هذا الأمر يعني أنك مستعد أكثر للحفاظ على المياه من أي عضو متوسط آخر في المجتمع.</p><p>هدفك وهدف المجتمع هو محاولة جمع كمية شبيهة من النقاط في كل مجموعة, بحيث تقومون ببناء دائرة كاملة (أو شكل يُشبه الدائرة أكثر من المضلع). هذا الأمر يعني أنكم مستعدين بصورة متساوية في كل مجموعة من المجموعات التسعة.</p>",
    "lan_help_m5_title": "",
    "lan_help_m5_content":'<p>تُظهر إنجازات "حارس المياه" انجازاتك الإجمالية بالاعتماد على نشاطك في هذا المجال. الهدف الأسمى هو جمع نقاط كافية للوصول الى مستوى "حارس مياه متقدم".</p><p>لكن, منذ مرحلة "المبتدأ" فإنك تزيد من وعيك للحاجة بإعداد نفسك للحفاظ على المياه. وفي مرحلة "المتوسط" فإنك تكون قد وصلت لمرحلة معينة من الجاهزية.</p>',
    "lan_help_m6_title": "",
    "lan_help_m6_content":"<p>לאחר שורת התקדמות מלא, אתה הולך לשלב הבא ואתה ממלא את הבר מההתחלה.</p><p>הצג רמות מציג את הרמה שכבר השגת על ידי סמל צבעוני הקשור לקטגוריה שבה רמת כבר גדל.</p>",
    "lan_power_message_0":"",
    "lan_power_message_1":"",
    "lan_power_message_2":"",
    "lan_power_message_3":"",
    "lan_power_message_4":""
}
}
var CURRENT_LAN = "en";
var _CURRENT_CITY = "CI";
function updateCity(){
  document.getElementById("badge_img1").src = "img/badge1_"+_CURRENT_CITY+".png"
  document.getElementById("badge_img2").src = "img/badge2_"+_CURRENT_CITY+".png"
  document.getElementById("badge_img3").src = "img/badge3_"+_CURRENT_CITY+".png"
  if(CURRENT_LAN == "en"){

    switch (_CURRENT_CITY ) {
      case "LE":
        _m1 = "Become better prepared for flooding by increasing your impact and preparedness!";
        _m2 = "Try hard to become an Advanced Flood Warden!";
        _m3 = "Help the community become prepared for flooding!";
        _loc["en"]["lan_power_message_1"] = _m1;
        _loc["en"]["lan_power_message_2"] = _m2;
        _loc["en"]["lan_power_message_4"] = _m3;
        document.getElementsByClassName("lan_power_message_1")[0].innerHTML = _loc["en"]["lan_power_message_1"];
        document.getElementsByClassName("lan_power_message_2")[0].innerHTML = _loc["en"]["lan_power_message_2"];
        document.getElementsByClassName("lan_power_message_4")[0].innerHTML = _loc["en"]["lan_power_message_4"];
        break;
      case "MI":
        _m1 = "Become better prepared to save water by increasing your impact and preparedness!";
        _m2 = "Try hard to become an Advanced Water Guardian!";
        _m3 = "Help the community become prepared to save water!";
        _loc["en"]["lan_power_message_1"] = _m1;
        _loc["en"]["lan_power_message_2"] = _m2;
        _loc["en"]["lan_power_message_4"] = _m3;
        document.getElementById("title_flood_warden").innerHTML = "Water Guardian Achievement";
        document.getElementsByClassName("lan_power_message_1")[0].innerHTML = _loc["en"]["lan_power_message_1"];
        document.getElementsByClassName("lan_power_message_2")[0].innerHTML = _loc["en"]["lan_power_message_2"];
        document.getElementsByClassName("lan_power_message_4")[0].innerHTML = _loc["en"]["lan_power_message_4"];
        break;
      case "SA":
        _m1 = "Become better prepared to reuse water by increasing your impact and preparedness!";
        _m2 = "Try hard to become an Advanced Water Guardian!";
        _m3 = "Help the community increase the use of non-potable water!";
        _loc["en"]["lan_power_message_1"] = _m1;
        _loc["en"]["lan_power_message_2"] = _m2;
        _loc["en"]["lan_power_message_4"] = _m3;
        document.getElementById("title_flood_warden").innerHTML = "Water Guardian Achievement";
        document.getElementsByClassName("lan_power_message_1")[0].innerHTML = _loc["en"]["lan_power_message_1"];
        document.getElementsByClassName("lan_power_message_2")[0].innerHTML = _loc["en"]["lan_power_message_2"];
        document.getElementsByClassName("lan_power_message_4")[0].innerHTML = _loc["en"]["lan_power_message_4"];
        break;
      case "JE":
        _m1 = "Become better prepared to conserve water by increasing your impact and preparedness!";
        _m2 = "Try hard to become an Advanced Water Guardian!";
        _m3 = "Help the community use water efficiently in the city!";
        _loc["en"]["lan_power_message_1"] = _m1;
        _loc["en"]["lan_power_message_2"] = _m2;
        _loc["en"]["lan_power_message_4"] = _m3;
        document.getElementById("title_flood_warden").innerHTML = "Water Guardian Achievement";
        document.getElementsByClassName("lan_power_message_1")[0].innerHTML = _loc["en"]["lan_power_message_1"];
        document.getElementsByClassName("lan_power_message_2")[0].innerHTML = _loc["en"]["lan_power_message_2"];
        document.getElementsByClassName("lan_power_message_4")[0].innerHTML = _loc["en"]["lan_power_message_4"];
        break;

      default:

    }



  } else if(CURRENT_LAN == "cat"){

      switch (_CURRENT_CITY ) {
        case "LE":
          _m1 = "Estigués millor preparat per a les inundacions incrementant el teu impacte i preparació!";
          _m2 = "Esforça’t per a convertir en Vigilant d’Inundacions Avançat!";
          _m3 = "Ajuda a la comunitat a estar preparada per a les inundacions!";
          _loc["en"]["lan_power_message_1"] = _m1;
          _loc["en"]["lan_power_message_2"] = _m2;
          _loc["en"]["lan_power_message_4"] = _m3;
          document.getElementsByClassName("lan_power_message_1")[0].innerHTML = _loc["en"]["lan_power_message_1"];
          document.getElementsByClassName("lan_power_message_2")[0].innerHTML = _loc["en"]["lan_power_message_2"];
          document.getElementsByClassName("lan_power_message_4")[0].innerHTML = _loc["en"]["lan_power_message_4"];
          break;
        case "MI":
          _m1 = "Estigués millor preparat per a estalviar aigua incrementant el teu impacte i preparació!";
          _m2 = "Esforça’t per a convertir en Guardià d’Aigua Avançat!";
          _m3 = "Ajuda a la comunitat a estar preparada per estalviar aigua!";
          _loc["en"]["lan_power_message_1"] = _m1;
          _loc["en"]["lan_power_message_2"] = _m2;
          _loc["en"]["lan_power_message_4"] = _m3;
          document.getElementById("title_flood_warden").innerHTML = "Guardià d’Aigua Avançat";
          document.getElementsByClassName("lan_power_message_1")[0].innerHTML = _loc["en"]["lan_power_message_1"];
          document.getElementsByClassName("lan_power_message_2")[0].innerHTML = _loc["en"]["lan_power_message_2"];
          document.getElementsByClassName("lan_power_message_4")[0].innerHTML = _loc["en"]["lan_power_message_4"];
          break;
        case "SA":
          _m1 = "Estigués millor preparat per a reutilitzar aigua incrementant el teu impacte i preparació!";
          _m2 = "Esforça’t per a convertir en Guardià d’Aigua Avançat!";
          _m3 = "Ajuda a la comunitat a incrementar l’ús d’aigua no potable!";
          _loc["en"]["lan_power_message_1"] = _m1;
          _loc["en"]["lan_power_message_2"] = _m2;
          _loc["en"]["lan_power_message_4"] = _m3;
          document.getElementById("title_flood_warden").innerHTML = "Guardià d’Aigua Avançat";
          document.getElementsByClassName("lan_power_message_1")[0].innerHTML = _loc["en"]["lan_power_message_1"];
          document.getElementsByClassName("lan_power_message_2")[0].innerHTML = _loc["en"]["lan_power_message_2"];
          document.getElementsByClassName("lan_power_message_4")[0].innerHTML = _loc["en"]["lan_power_message_4"];
          break;
        case "JE":
          _m1 = "Estigués millor preparat per a conservar aigua incrementant el teu impacte i preparació!";
          _m2 = "Esforça’t per a convertir en Guardià d’Aigua Avançat!";
          _m3 = "Ajuda a la comunitat a incrementar l’ús d’aigua no potable!";
          _loc["en"]["lan_power_message_1"] = _m1;
          _loc["en"]["lan_power_message_2"] = _m2;
          _loc["en"]["lan_power_message_4"] = _m3;
          document.getElementById("title_flood_warden").innerHTML = "Guardià d’Aigua Avançat";
          document.getElementsByClassName("lan_power_message_1")[0].innerHTML = _loc["en"]["lan_power_message_1"];
          document.getElementsByClassName("lan_power_message_2")[0].innerHTML = _loc["en"]["lan_power_message_2"];
          document.getElementsByClassName("lan_power_message_4")[0].innerHTML = _loc["en"]["lan_power_message_4"];
          break;

        default:

      }



    }

  else if(CURRENT_LAN == "es"){
    switch (_CURRENT_CITY ) {
      case "LE":

        _m1 = "¡Vuélvete mas preparado ante las inundaciones incrementando tu impacto y preparación!";
        _m2 = "¡Esfuerzate para convertirte en un Guardián Avanzado de las inundaciones!";
        _m3 = "¡Ayuda a la comunidad a preparase ante las inundaciones!";
        _loc["es"]["lan_power_message_1"] = _m1;
        _loc["es"]["lan_power_message_2"] = _m2;
        _loc["es"]["lan_power_message_4"] = _m3;
        document.getElementsByClassName("lan_power_message_1")[0].innerHTML = _loc["es"]["lan_power_message_1"];
        document.getElementsByClassName("lan_power_message_2")[0].innerHTML = _loc["es"]["lan_power_message_2"];
        document.getElementsByClassName("lan_power_message_4")[0].innerHTML = _loc["es"]["lan_power_message_4"];
        break;
      case "MI":
        _m1 = "¡Vuélvete mas preparado ante las inundaciones incrementando tu impacto y preparación!";
        _m2 = "¡Esfuerzate para convertirte en un Guardián Avanzado del agua!";
        _m3 = "¡Ayuda a la comunidad a preparase ante las inundaciones!";
        _loc["es"]["lan_power_message_1"] = _m1;
        _loc["es"]["lan_power_message_2"] = _m2;
        _loc["es"]["lan_power_message_4"] = _m3;
        document.getElementById("title_flood_warden").innerHTML = "Logro de Guardián del Agua";
        document.getElementsByClassName("lan_power_message_1")[0].innerHTML = _loc["es"]["lan_power_message_1"];
        document.getElementsByClassName("lan_power_message_2")[0].innerHTML = _loc["es"]["lan_power_message_2"];
        document.getElementsByClassName("lan_power_message_4")[0].innerHTML = _loc["es"]["lan_power_message_4"];
        break;
      case "SA":

        _m1 = "¡Vuélvete mas preparado para reutilizar el agua incrementando tu impacto y preparación!";
        _m2 = "¡Esfuerzate para convertirte en un Guardián Avanzado del agua!";
        _m3 = "¡Ayuda a la comunidad a incrementer el uso del agua no potable!";
        _loc["es"]["lan_power_message_1"] = _m1;
        _loc["es"]["lan_power_message_2"] = _m2;
        _loc["es"]["lan_power_message_4"] = _m3;
        document.getElementById("title_flood_warden").innerHTML = "Logro de Guardián del Agua";
        document.getElementsByClassName("lan_power_message_1")[0].innerHTML = _loc["es"]["lan_power_message_1"];
        document.getElementsByClassName("lan_power_message_2")[0].innerHTML = _loc["es"]["lan_power_message_2"];
        document.getElementsByClassName("lan_power_message_4")[0].innerHTML = _loc["es"]["lan_power_message_4"];
        break;
      case "JE":
        _m1 = "¡Vuélvete mas preparado para conservar el agua incrementando tu impacto y preparación!";
        _m2 = "¡Esfuerzate para convertirte en un Guardián Avanzado del agua!";
        _m3 = "¡Ayuda a la comunidad a usar el agua eficientemente en la ciudad!";
        _loc["es"]["lan_power_message_1"] = _m1;
        _loc["es"]["lan_power_message_2"] = _m2;
        _loc["es"]["lan_power_message_4"] = _m3;
        document.getElementById("title_flood_warden").innerHTML = "Logro de Guardián del Agua";
        document.getElementsByClassName("lan_power_message_1")[0].innerHTML = _loc["es"]["lan_power_message_1"];
        document.getElementsByClassName("lan_power_message_2")[0].innerHTML = _loc["es"]["lan_power_message_2"];
        document.getElementsByClassName("lan_power_message_4")[0].innerHTML = _loc["es"]["lan_power_message_4"];
        break;

      default:

    }



  }else if(CURRENT_LAN == "he"){
    switch (_CURRENT_CITY ) {
      case "LE":
        _m1 = "";
        _m2 = "";
        _m3 = "";
        _loc["he"]["lan_power_message_1"] = _m1;
        _loc["he"]["lan_power_message_2"] = _m2;
        _loc["he"]["lan_power_message_3"] = _m3;
        document.getElementsByClassName("lan_power_message_1")[0].innerHTML = _loc["he"]["lan_power_message_1"];
        document.getElementsByClassName("lan_power_message_2")[0].innerHTML = _loc["he"]["lan_power_message_2"];
        document.getElementsByClassName("lan_power_message_4")[0].innerHTML = _loc["he"]["lan_power_message_3"];
        break;
      case "MI":
        _m1 = "";
        _m2 = "התאמץ להפוך ל״שומר מים מתקדם״!";
        _m3 = "";
        _loc["he"]["lan_power_message_1"] = _m1;
        _loc["he"]["lan_power_message_2"] = _m2;
        _loc["he"]["lan_power_message_4"] = _m3;
        document.getElementById("title_flood_warden").innerHTML = "הישגי ״שומר מים״";
        document.getElementsByClassName("lan_power_message_1")[0].innerHTML = _loc["he"]["lan_power_message_1"];
        document.getElementsByClassName("lan_power_message_2")[0].innerHTML = _loc["he"]["lan_power_message_2"];
        document.getElementsByClassName("lan_power_message_4")[0].innerHTML = _loc["he"]["lan_power_message_3"];
        break;
      case "SA":

        _m1 = "";
        _m2 = "התאמץ להפוך ל״שומר מים מתקדם״!";
        _m3 = "";
        _loc["he"]["lan_power_message_1"] = _m1;
        _loc["he"]["lan_power_message_2"] = _m2;
        _loc["he"]["lan_power_message_4"] = _m3;
        document.getElementById("title_flood_warden").innerHTML = "הישגי ״שומר מים״";
        document.getElementsByClassName("lan_power_message_1")[0].innerHTML = _loc["he"]["lan_power_message_1"];
        document.getElementsByClassName("lan_power_message_2")[0].innerHTML = _loc["he"]["lan_power_message_2"];
        document.getElementsByClassName("lan_power_message_4")[0].innerHTML = _loc["he"]["lan_power_message_3"];
        break;
      case "JE":
        _m1 = "הכן עצמך לשימור מים על ידי העלאת ההשפעה שלך ורמת המוכנות שלך!";
        _m2 = "התאמץ להפוך ל״שומר מים מתקדם״!";
        _m3 = "עזור לקהילה להשתמש במים באופן יעיל בעיר!";
        _loc["he"]["lan_power_message_1"] = _m1;
        _loc["he"]["lan_power_message_2"] = _m2;
        _loc["he"]["lan_power_message_4"] = _m3;
        document.getElementById("title_flood_warden").innerHTML = "הישגי ״שומר מים״";
        document.getElementsByClassName("lan_power_message_1")[0].innerHTML = _loc["he"]["lan_power_message_1"];
        document.getElementsByClassName("lan_power_message_2")[0].innerHTML = _loc["he"]["lan_power_message_2"];
        document.getElementsByClassName("lan_power_message_4")[0].innerHTML = _loc["he"]["lan_power_message_4"];
        break;

      default:
    }
    }else if(CURRENT_LAN == "ar"){
      switch (_CURRENT_CITY ) {
        case "LE":
          _m1 = "";
          _m2 = "";
          _m3 = "";
          _loc["he"]["lan_power_message_1"] = _m1;
          _loc["he"]["lan_power_message_2"] = _m2;
          _loc["he"]["lan_power_message_3"] = _m3;
          document.getElementsByClassName("lan_power_message_1")[0].innerHTML = _loc["ar"]["lan_power_message_1"];
          document.getElementsByClassName("lan_power_message_2")[0].innerHTML = _loc["ar"]["lan_power_message_2"];
          document.getElementsByClassName("lan_power_message_4")[0].innerHTML = _loc["ar"]["lan_power_message_3"];
          break;
        case "MI":
          _m1 = "";
          _m2 = "";
          _m3 = "";
          _loc["he"]["lan_power_message_1"] = _m1;
          _loc["he"]["lan_power_message_2"] = _m2;
          _loc["he"]["lan_power_message_4"] = _m3;
          document.getElementById("title_flood_warden").innerHTML = "";
          document.getElementsByClassName("lan_power_message_1")[0].innerHTML = _loc["ar"]["lan_power_message_1"];
          document.getElementsByClassName("lan_power_message_2")[0].innerHTML = _loc["ar"]["lan_power_message_2"];
          document.getElementsByClassName("lan_power_message_4")[0].innerHTML = _loc["ar"]["lan_power_message_3"];
          break;
        case "SA":

          _m1 = "";
          _m2 = "";
          _m3 = "";
          _loc["he"]["lan_power_message_1"] = _m1;
          _loc["he"]["lan_power_message_2"] = _m2;
          _loc["he"]["lan_power_message_4"] = _m3;
          document.getElementById("title_flood_warden").innerHTML = "";
          document.getElementsByClassName("lan_power_message_1")[0].innerHTML = _loc["ar"]["lan_power_message_1"];
          document.getElementsByClassName("lan_power_message_2")[0].innerHTML = _loc["ar"]["lan_power_message_2"];
          document.getElementsByClassName("lan_power_message_4")[0].innerHTML = _loc["ar"]["lan_power_message_3"];
          break;
        case "JE":
          _m1 = "جهز نفسك للحفاظ على المياه بواسطة رفع مدى تأثيرك ومستوى جاهزيتك!";
          _m2 = 'ابذل جهدك لكي تصبح "حارس مياه متقدم"!';
          _m3 = "ساعد المجتمع بالحفاظ على المياه بصورة فعالة في المدينة!";
          _loc["he"]["lan_power_message_1"] = _m1;
          _loc["he"]["lan_power_message_2"] = _m2;
          _loc["he"]["lan_power_message_4"] = _m3;
          document.getElementById("title_flood_warden").innerHTML = 'إنجازات "حارس المياه"';
          document.getElementsByClassName("lan_power_message_1")[0].innerHTML = _loc["ar"]["lan_power_message_1"];
          document.getElementsByClassName("lan_power_message_2")[0].innerHTML = _loc["ar"]["lan_power_message_2"];
          document.getElementsByClassName("lan_power_message_4")[0].innerHTML = _loc["ar"]["lan_power_message_3"];
          break;

        default:

      }



  }

}
function setLan(){
  u    = new URL(window.location);
  _lan = u.searchParams.get("lan");
  _city = u.searchParams.get("city");
  if(_city != null){
    _CURRENT_CITY = _city;
  }
  if(_lan == "he" || _lan == "ar"){
    document.getElementsByTagName("body")[0].setAttribute( "dir","rtl");
    document.getElementById("warden_bar_0").classList.add("warden_bar_0_rtl")
    document.getElementsByClassName("powerBar")[0].classList.add("powerBar_rtl")
    // document.getElementsByClassName("powerBartitle")[0].classList.add("powerBartitle_rtl")
    // document.getElementsByClassName("powerBartitle")[1].classList.add("powerBartitle_rtl")
    // document.getElementsByClassName("powerBartitle")[2].classList.add("powerBartitle_rtl")
    document.getElementsByClassName("powerBar")[1].classList.add("powerBar_rtl")
    document.getElementsByClassName("powerBar")[2].classList.add("powerBar_rtl")
    // x = document.getElementsByClassName("powerBarWrapper")[0];
    // x.appendChild(x.getElementsByClassName("iconWrapper")[0]);
    // x = document.getElementsByClassName("powerBarWrapper")[1];
    // x.appendChild(x.getElementsByClassName("iconWrapper")[0]);
    // x = document.getElementsByClassName("powerBarWrapper")[2];
    // x.appendChild(x.getElementsByClassName("iconWrapper")[0]);
  }
  if(_lan != null){
    CURRENT_LAN = _lan;
    for (k in _loc[CURRENT_LAN]){
      _element = document.getElementById(k);
      if(_element !=null){
          _element.innerHTML = _loc[CURRENT_LAN][k];
      }
      lan_classes = document.getElementsByClassName(k);
      for (var i = 0; i < lan_classes.length; i++) {
        lan_classes[i].innerHTML = _loc[CURRENT_LAN][k];
      }
    }
  }
  updateCity();


}
setLan();
var circle = document.getElementById("circ_1");
var radius = circle.r.baseVal.value;
var circumference = radius * 2 * Math.PI;

var circle2 = document.getElementById("circ_2");
var radius2 = circle.r.baseVal.value;
var circumference2 = radius2 * 2 * Math.PI;

var circle3 = document.getElementById("circ_3");
var radius3 = circle.r.baseVal.value;
var circumference3 = radius3 * 2 * Math.PI;

circle.style.strokeDasharray = `${circumference} ${circumference}`;
circle.style.strokeDashoffset = `${circumference}`;
circle2.style.strokeDasharray = `${circumference} ${circumference}`;
circle2.style.strokeDashoffset = `${circumference}`;
circle3.style.strokeDasharray = `${circumference} ${circumference}`;
circle3.style.strokeDashoffset = `${circumference}`;


function setProgress(percent) {
  const offset = circumference - percent / 100 * circumference;
  circle.style.strokeDashoffset = offset;
}

const input = document.getElementById('input1');

function setProgress2(percent) {
  const offset2 = circumference2 - percent / 100 * circumference2;
  circle2.style.strokeDashoffset = offset2;
}

const input2 = document.getElementById('input2');
/*setProgress2(input2.value);

input2.addEventListener('change', function(e) {
  if (input2.value < 101 && input2.value > -1) {
    setProgress2(input2.value);
  }
})*/

// 3


function setProgress3(percent) {
  const offset3 = circumference3 - percent / 100 * circumference3;
  circle3.style.strokeDashoffset = offset3;
}

const input3 = document.getElementById('input3');
/*setProgress3(input3.value);

input3.addEventListener('change', function(e) {
  if (input3.value < 101 && input3.value > -1) {
    setProgress3(input3.value);
  }
})*/
function setPAPoints(p){
  document.getElementById("pa_points").innerHTML = numberWithCommas(Math.round(p));
}
function setKHPoints(p){
  document.getElementById("kh_points").innerHTML = numberWithCommas(Math.round(p));
}
function setRAPoints(p){
  document.getElementById("ra_points").innerHTML = numberWithCommas(Math.round(p));
}
function setGPAPoints(p){

  document.getElementById("pag_points").innerHTML = numberWithCommas(Math.round(p));
}
function setGKHPoints(p){
  document.getElementById("khg_points").innerHTML = numberWithCommas(Math.round(p));
}
function setGRAPoints(p){
  document.getElementById("rag_points").innerHTML = numberWithCommas(Math.round(p));
}
function setg_pa(p){
  document.getElementById("g_pa").innerHTML = "/ "+numberWithCommas(Math.round(p));
}
function setg_so(p){
  document.getElementById("g_so").innerHTML = "/ "+numberWithCommas(Math.round(p));
}
function setg_in(p){
  document.getElementById("g_in").innerHTML = "/ "+numberWithCommas(Math.round(p));
}
function changeProgress(la,lb,lc){
  var _MAX_POINTS_LEVEL = 1000;
  lra = la - (Math.floor( la / _MAX_POINTS_LEVEL) * _MAX_POINTS_LEVEL) ;
  lrb = lb - (Math.floor( lb / _MAX_POINTS_LEVEL) * _MAX_POINTS_LEVEL) ;
  lrc = lc - (Math.floor( lc / _MAX_POINTS_LEVEL) * _MAX_POINTS_LEVEL) ;

  setPAPoints(la);
  setKHPoints(lb);
  setRAPoints(lc);

  _p1 = lra * 100 / _MAX_POINTS_LEVEL;
  _p2 = lrb * 100 / _MAX_POINTS_LEVEL;
  _p3 = lrc * 100 / _MAX_POINTS_LEVEL;
  setProgress(_p1);
  setProgress2(_p2);
  setProgress3(_p3);

  addCircularLevelsPA(la);
  addCircularLevelsKH(lb);
  addCircularLevelsRA(lc);

}
function addCircularLevelsPA(l){
  _earned  = '<img src="img/circ_talk.png" class="iconsmall"/>'
  _nearned ='<img src="img/circ_talk_gray.png" class="iconsmall"/>'
  if(l >= 3000){
    _badges = _earned  + _earned + _earned;
  }else if( (l <= 2999) && (l >= 2000) ){
    _badges = _earned  + _earned + _nearned;
  }else if( (l <= 2999) && (l >= 1000) ){
    _badges = _earned  + _nearned + _nearned;
  }else{
    _badges = _nearned  + _nearned + _nearned;
  }
  document.getElementById("circularLevels1").innerHTML = _badges

}
function addCircularLevelsKH(l){
  _earned  = '<img src="img/circ_idea.png" class="iconsmall"/>'
  _nearned ='<img src="img/circ_idea_gray.png" class="iconsmall"/>'
  if(l >= 3000){
    _badges = _earned  + _earned + _earned;
  }else if( (l <= 2999) && (l >= 2000) ){
    _badges = _earned  + _earned + _nearned;
  }else if( (l <= 2999) && (l >= 1000) ){
    _badges = _earned  + _nearned + _nearned;
  }else{
    _badges = _nearned  + _nearned + _nearned;
  }
  document.getElementById("circularLevels2").innerHTML = _badges
}
function addCircularLevelsRA(l){
  _earned  = '<img src="img/circ_stopwatch.png" class="iconsmall"/>'
  _nearned ='<img src="img/circ_stopwatch_gray.png" class="iconsmall"/>'
  if(l >= 3000){
    _badges = _earned  + _earned + _earned;
  }else if( (l <= 2999) && (l >= 2000) ){
    _badges = _earned  + _earned + _nearned;
  }else if( (l <= 2999) && (l >= 1000) ){
    _badges = _earned  + _nearned + _nearned;
  }else{
    _badges = _nearned  + _nearned + _nearned;
  }
  document.getElementById("circularLevels3").innerHTML = _badges
}
// setTimeout(function(){ changeProgress() }, 1000);
function setProgressPowerBar(p,n){
  _MAX_POINTS_LEVEL = 1000;
  lrp = p - (Math.floor( p / _MAX_POINTS_LEVEL) * _MAX_POINTS_LEVEL) ;
  p = lrp * 100 / _MAX_POINTS_LEVEL;

  _pbar = document.getElementById("powerBar"+n);
  _pbar.style.width = p + "%";
}
function addPowerBarLevelsPA(l,m){
  _earned  = '<img src="img/political.png" class="iconsmall"/>'
  _nearned ='<img src="img/political_gray.png" class="iconsmall"/>'
  if(l >= 3000){
    _badges = _earned  + _earned + _earned;
  }else if( (l <= 2999) && (l >= 2000) ){
    _badges = _earned  + _earned + _nearned;
  }else if( (l <= 2999) && (l >= 1000) ){
    _badges = _earned  + _nearned + _nearned;
  }else{
    _badges = _nearned  + _nearned + _nearned;
  }
  ll = numberWithCommas(Math.round(l));
  mm = numberWithCommas(Math.round(m));

  document.getElementById("bar_title_score_PA").innerHTML = ll ;
  document.getElementById("bar_title_score_PA_g").innerHTML = mm ;
  document.getElementById("powerBarLevels1").innerHTML = _badges;
}
function addPowerBarLevelsSO(l,m){
  _earned  = '<img src="img/users-group.png" class="iconsmall"/>'
  _nearned ='<img src="img/users-group_gray.png" class="iconsmall"/>'
  if(l >= 3000){
    _badges = _earned  + _earned + _earned;
  }else if( (l <= 2999) && (l >= 2000) ){
    _badges = _earned  + _earned + _nearned;
  }else if( (l <= 2999) && (l >= 1000) ){
    _badges = _earned  + _nearned + _nearned;
  }else{
    _badges = _nearned  + _nearned + _nearned;
  }
  ll = numberWithCommas(Math.round(l));
  mm = numberWithCommas(Math.round(m));
  document.getElementById("bar_title_score_SO").innerHTML = ll ;
  document.getElementById("bar_title_score_SO_g").innerHTML = mm ;

  document.getElementById("powerBarLevels2").innerHTML = _badges
}
function addPowerBarLevelsIN(l,m){
  _earned  = '<img src="img/people.png" class="iconsmall"/>'
  _nearned ='<img src="img/people_gray.png" class="iconsmall"/>'
  if(l >= 3000){
    _badges = _earned  + _earned + _earned;
  }else if( (l <= 2999) && (l >= 2000) ){
    _badges = _earned  + _earned + _nearned;
  }else if( (l <= 2999) && (l >= 1000) ){
    _badges = _earned  + _nearned + _nearned;
  }else{
    _badges = _nearned  + _nearned + _nearned;
  }
  ll = numberWithCommas(Math.round(l));
  mm = numberWithCommas(Math.round(m));
  document.getElementById("bar_title_score_IN").innerHTML = ll ;
  document.getElementById("bar_title_score_IN_g").innerHTML = mm ;
  document.getElementById("powerBarLevels3").innerHTML = _badges
}
const numberWithCommas = (x) => {
  return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
}
function setWardenProgress(n){

  var WARDEN_LVL_0 =  500;
  var WARDEN_LVL_1 =  5000;
  var WARDEN_LVL_2 = 9000;

  _w1 = n * 100 / WARDEN_LVL_0;
  _w2 = (n - WARDEN_LVL_0) * 100 / (WARDEN_LVL_1 - WARDEN_LVL_0);
  _w3 = (n - WARDEN_LVL_1) * 100 / (WARDEN_LVL_2 - WARDEN_LVL_1);
  // set bar fills
  document.getElementById("warden_bar0_fill").style.width = _w1 + "%"
  document.getElementById("warden_bar1_fill").style.width = _w2 + "%"
  document.getElementById("warden_bar2_fill").style.width = _w3 + "%"

  // set badges
  document.getElementById("badge1").classList.remove("earned")
  document.getElementById("badge2").classList.remove("earned")
  document.getElementById("badge3").classList.remove("earned")
  if(n >= WARDEN_LVL_0){
    document.getElementById("badge1").classList.add("earned")
    document.getElementById("badge_img1").src = "img/badge1_"+_CURRENT_CITY+"_earned.png";
    document.getElementsByClassName("boost_factor 1")[0].classList.remove("boost_factor_earned");
    document.getElementsByClassName("boost_factor 2")[0].classList.remove("boost_factor_earned");
    document.getElementsByClassName("boost_factor 3")[0].classList.remove("boost_factor_earned");

    document.getElementsByClassName("boost_factor 1")[0].classList.add("boost_factor_earned");

  }
  if(n >= WARDEN_LVL_1){
    document.getElementById("badge_img2").src = "img/badge2_"+_CURRENT_CITY+"_earned.png";
    document.getElementById("badge2").classList.add("earned")
    document.getElementsByClassName("boost_factor 1")[0].classList.remove("boost_factor_earned");
    document.getElementsByClassName("boost_factor 2")[0].classList.remove("boost_factor_earned");
    document.getElementsByClassName("boost_factor 3")[0].classList.remove("boost_factor_earned");

    document.getElementsByClassName("boost_factor 2")[0].classList.add("boost_factor_earned");

  }
  if(n >= WARDEN_LVL_2){
    document.getElementById("badge_img3").src = "img/badge3_"+_CURRENT_CITY+"_earned.png";
    document.getElementById("badge3").classList.add("earned")
    document.getElementsByClassName("boost_factor 1")[0].classList.remove("boost_factor_earned");
    document.getElementsByClassName("boost_factor 2")[0].classList.remove("boost_factor_earned");
    document.getElementsByClassName("boost_factor 3")[0].classList.remove("boost_factor_earned");

    document.getElementsByClassName("boost_factor 3")[0].classList.add("boost_factor_earned");

  }


  // if(p < 100){
  //   // set only level 1, disable all the rest
  //   document.getElementById("warden_bar1_fill").style.width = p + "%"
  //   document.getElementById("warden_bar2_fill").style.width = "0%"
  //   document.getElementById("badge2").classList.remove("earned")
  //   document.getElementById("badge3").classList.remove("earned")
  //   document.getElementById("badge_img2").src = "img/badge2.png";
  //   document.getElementById("badge_img3").src = "img/badge3.png";
  //
  // }else{
  //   document.getElementById("warden_bar1_fill").style.width = "100%"
  //   document.getElementById("warden_bar2_fill").style.width = (Math.abs(100 - p) + "%");
  //   document.getElementById("badge2").classList.add("earned")
  //   document.getElementById("badge_img2").src = "img/badge2_earned.png";
  //   document.getElementById("badge_img3").src = "img/badge3.png";
  //   document.getElementById("badge3").classList.remove("earned")
  //
  //
  //   if(p >= 200){
  //     document.getElementById("badge3").classList.add("earned")
  //     document.getElementById("badge_img3").src = "img/badge3_earned.png";
  //   }
  // }
}
function canvas_arrow(context, fromx, fromy, tox, toy,i){
    context.globalCompositeOperation = "destination-over";
    _or = context.fillStyle;

    var headlen = 10;   // length of head in pixels
    var angle = Math.atan2(toy-fromy,tox-fromx);
    _strokeStyle = ""
    if(i <=2){
      _strokeStyle = "#13377f"
    }else if(i <=5){
      _strokeStyle = "#6a67ce"
    }else{
      _strokeStyle = "#6d0949"

    }
    context.beginPath();
    context.strokeStyle = _strokeStyle;
    context.moveTo(fromx, fromy);
    context.lineTo(tox, toy);
    context.closePath();
    context.stroke();



    context.moveTo(tox, toy);
    _arlx = tox-headlen*Math.cos(angle-Math.PI/6);
    _arly = toy-headlen*Math.sin(angle-Math.PI/6);
    _arrx = tox-headlen*Math.cos(angle+Math.PI/6);
    _arry = toy-headlen*Math.sin(angle+Math.PI/6);
    context.lineTo(_arlx,_arly);
    // context.moveTo(tox, toy);
    context.lineTo(_arrx,_arry);
    // context.moveTo(_arlx, _arly);
    context.lineTo(_arrx,_arry);
    context.fillStyle = _strokeStyle;

    context.stroke();

    context.fill();
    context.fillStyle = _or;
    context.globalCompositeOperation = "source-over";

}
function initSpider(){
  var canvas = document.getElementById("spider");
  var ctx = canvas.getContext("2d");
  c = canvas.height * .50;
  canvas.width = canvas.parentElement.offsetWidth;
  canvas.height = canvas.parentElement.offsetHeight;
  var sizeWidth = ctx.canvas.clientWidth;
  var sizeHeight = ctx.canvas.clientHeight;
  var scaleWidth = sizeWidth/100;
  var scaleHeight = sizeHeight/100;
  centerX = sizeWidth/2;
  centerY = sizeHeight/2;
  r = sizeWidth *.30;
  if(sizeWidth >= sizeHeight){
    r = sizeHeight *.30;
  }
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  ctx.beginPath();
  // console.log(sizeWidth/2);
  // console.log(sizeHeight/2);
  ctx.beginPath();
  ctx.arc(centerX,centerY,1,0,2*Math.PI)
  ctx.strokeStyle = '#d7dadd';
  _goals  = [0,3,6]
  // draw 10 lines, all with the same distance between each other
  for (var i = 0; i < 12; i++) {
    if(i == 0){
      ctx.setLineDash([5, 15]);
      ctx.strokeStyle = '#737373';
      ctx.lineWidth   = 1;

    }else if(i == 1){
      ctx.setLineDash([]);
      ctx.strokeStyle = '#737373';
      ctx.lineWidth   = 2;

    }
    else{
      ctx.setLineDash([]);
      ctx.strokeStyle = '#d7dadd';
      ctx.lineWidth   = 1;

    }
    ctx.beginPath();
    ctx.arc(centerX,centerY, r - ( i *  r / 11 ) ,0,2*Math.PI)
    ctx.stroke();


  }

  _degrees = [0,40,80,120,160,200,240,280,320];

  _labels  = [
                _loc[CURRENT_LAN].lan_individual,
                _loc[CURRENT_LAN].lan_social,
                _loc[CURRENT_LAN].lan_political,
                _loc[CURRENT_LAN].lan_individual,
                _loc[CURRENT_LAN].lan_social,
                _loc[CURRENT_LAN].lan_political,
                _loc[CURRENT_LAN].lan_individual,
                _loc[CURRENT_LAN].lan_social,
                _loc[CURRENT_LAN].lan_political,
              ];
  _categories = ["Social","Social","Social","Political","Political","Political","Individual","Individual","Individual"]
  _categoriesIndexes = [1,4,7]
  _offset = 10; //All lines will be turned with this offset.
  _extraRadius = 20;
  ctx.lineWidth   = 1;

  _labelColors = ["#13377f","#6a67ce","#6d0949"]

  _degrees.forEach(function(d,i){
    // ctx.beginPath();
    // ctx.moveTo(centerX ,centerY);
    // convert angles to radians. Add offset
    rx = (d + _offset)  * (Math.PI /180);
    ry = (d + _offset) * (Math.PI /180);
    x = centerX + (r * 1.1) * Math.cos(rx);
    y = centerY + (r * 1.1) * Math.sin(ry);
    var headlen = 10;
    var angle = Math.atan2(y-centerX,x-centerY);
    // ctx.lineTo(x,y);
    canvas_arrow(ctx,centerX,centerY,x,y,i)
    // ctx.lineTo(x-headlen*Math.cos(angle-Math.PI/6),y-headlen*Math.sin(angle-Math.PI/6));
    // ctx.moveTo(x, x);
    // ctx.lineTo(x-headlen*Math.cos(angle+Math.PI/6),u-headlen*Math.sin(angle+Math.PI/6));
    if(sizeWidth <  620){
      ctx.font = "10px Arial";

    }else{
      ctx.font = "11px Arial";

    }
    rx = (d + _offset)  * (Math.PI /180);
    ry = (d + _offset) * (Math.PI /180);
    x = centerX + r*1.17  * Math.cos(rx);
    y = centerY + r*1.17 * Math.sin(ry);

    if(i < 2 ){
      ctx.fillStyle = _labelColors[0];
    }else if(i > 2 && i < 5){
      ctx.fillStyle = _labelColors[1];
    }else if(i > 5){
      ctx.fillStyle = _labelColors[2];
    }else if(i >= _degrees.length -1){
      ctx.fillStyle = _labelColors[0];
    }
    switch (i) {
      case 0:
      case 1:
      case 8:
        ctx.textAlign="left";
      break;
      case 2:
      case 6:
      case 7:
          ctx.textAlign="center";
      break;
      case 3:
      case 4:
      case 5:
        ctx.textAlign="right";
      break;
      default:
        ctx.textAlign="center";

    }
    ctx.beginPath();
    ctx.fillText(_labels[i],x,y);
    ctx.stroke();
    ctx.closePath();
    if(_categoriesIndexes.includes(i) && sizeWidth > 620  ){

      rx = (d + _offset)  * (Math.PI /180);
      ry = (d + _offset) * (Math.PI /180);
      x = centerX +r*1.51 * Math.cos(rx);
      y = centerY +r*1.51 * Math.sin(ry);

      ctx.font = "bold 15px Arial";
      ctx.beginPath();
      switch (i) {
        case 1:
        ctx.textAlign="left";

        ctx.fillText(_loc[CURRENT_LAN].lan_spider_know_how,x,y);
        break;
        case 4:
        ctx.fillText(_loc[CURRENT_LAN].lan_spider_ready_to_act,x,y);

        ctx.textAlign="right";
        break;
        case 7:
        ctx.fillText(_loc[CURRENT_LAN].lan_spider_awareness,x,y);

        ctx.textAlign="left";
        break;
        default:

      }
      // ctx.fillText(_categories[i],x,y);
      ctx.stroke();
      ctx.closePath();
    }
    ctx.font = "12px Arial";


  });


  ctx.closePath();

}
function addSize(size){
  var canvas = document.getElementById("spider");
  var ctx = canvas.getContext("2d");
  var sizeWidth = ctx.canvas.clientWidth;
  var sizeHeight = ctx.canvas.clientHeight;
  var scaleWidth = sizeWidth/100;
  var scaleHeight = sizeHeight/100;

  marginRight = 10;
  ctx.font = "13px Arial";
  ctx.beginPath();
  ctx.lineWidth   = 2;
  ctx.strokeStyle = '#848177';
  ctx.moveTo(0,0);
  ctx.fillStyle   = "#848177";
  if(size <= 20){
    _size  = _loc[CURRENT_LAN].lan_community_small;
  }else if((size >= 20) && (size <= 50)){
    _size  = _loc[CURRENT_LAN].lan_community_medium;
  }else{
    _size  = _loc[CURRENT_LAN].lan_community_big;
  }
  ctx.strokeStyle = '#265380';
  ctx.fillStyle   = "#09244c";
  ctx.font = "bold 16px Arial";
  if(sizeWidth > 500){
    _barSize = (sizeWidth / 3);
    _barY1   = 450;
    _barY2   = _barY1 + 20;
    _l1      = (_barSize / 2 );
    _l2      = (_barSize / 4 );
    ctx.textAlign   = "left";
    ctx.fillText(_loc[CURRENT_LAN].lan_community_size,0 ,440);
    ctx.textAlign   = "center";
    ctx.fillText("5%",_l1/5 ,490);
    ctx.fillText("25%",_l2 ,490);
    ctx.fillText("50%",_l1 ,490);
    ctx.textAlign   = "start";

    ctx.fillText("2000",_barSize ,455);
    ctx.fillText("Members",_barSize ,475);

    ctx.stroke();
  }else{
    _barSize = (sizeWidth - 70);
    _barY1   = 440;
    _barY2   = _barY1 + 20;
    _l1      = (_barSize / 2 );
    _l2      = (_barSize / 4 );
    ctx.textAlign   = "left";
    ctx.fillText(_loc[CURRENT_LAN].lan_community_size,0 ,435);
    ctx.textAlign   = "center";
    ctx.fillText("5%",_l2/5 ,490);
    ctx.fillText("25%",_l2 ,490);
    ctx.fillText("50%",_l1 ,490);
    ctx.textAlign   = "start";
    ctx.fillText("2000",_barSize ,455);
    ctx.fillText("Members",_barSize ,475);

    ctx.stroke();
  }




  _fillBarcolor = "#4382b5";
  ctx.fillStyle   = _fillBarcolor;

  _barWidth = _barSize ;
  // fill
  ctx.beginPath();
  _MAX_SIZE = 2000;
  if(size >= _MAX_SIZE){
    size  = _MAX_SIZE
  }
  if(size <= 100){
    _sP = (size  * .33) / 100
  }else if(size > 100 && size <=1000){
    _sP =  (size/1000) * .66
    console.log(_sP);
  }else if(size >1001){
    _sP =  (size/2000) * 1;
  }
  ctx.fillRect(0,_barY1,_barWidth * _sP ,20);
  ctx.closePath();
  ctx.fillStyle   = "#09244c";

  //left
  ctx.beginPath();
  ctx.moveTo(0,_barY1);
  ctx.lineTo(0,_barY2);
  ctx.closePath();
  ctx.stroke();
  //top
  ctx.beginPath();
  ctx.moveTo(0,_barY1);
  ctx.lineTo(_barSize - marginRight,_barY1);
  ctx.closePath();
  ctx.stroke();
  //bottom
  ctx.beginPath();
  ctx.moveTo(0,_barY2);
  ctx.lineTo(_barSize - marginRight,_barY2);
  ctx.closePath();
  ctx.stroke();
  //right
  ctx.beginPath();
  ctx.moveTo(_barSize - marginRight,_barY1);
  ctx.lineTo(_barSize - marginRight,_barY2);
  ctx.closePath();
  ctx.stroke();
  //l0
  ctx.beginPath();
  ctx.moveTo(_l1/5,_barY1 + 15);
  ctx.lineTo(_l1/5,_barY1 + 25);
  ctx.closePath();
  ctx.stroke();
  //l1
  ctx.beginPath();
  ctx.moveTo(_l1,_barY1 + 15);
  ctx.lineTo(_l1,_barY1 + 25);
  ctx.closePath();
  ctx.stroke();
  //l2
  ctx.beginPath();
  ctx.moveTo(_l2,_barY1 + 15);
  ctx.lineTo(_l2,_barY1 + 25);
  ctx.closePath();
  ctx.stroke();

}
function addImpact(){
  marginLeft = 10;
  var canvas = document.getElementById("spider");
  var ctx = canvas.getContext("2d");
  var sizeWidth = ctx.canvas.clientWidth;
  var sizeHeight = ctx.canvas.clientHeight;
  var scaleWidth = sizeWidth/100;
  var scaleHeight = sizeHeight/100;
  _labelColors = ["#1786e0","#2dc463","#e23d3d",]
  if(sizeWidth <  620){
    ctx.font = "bold 13px Arial";
  }else{
    ctx.font = "bold 16px Arial";


  }

  ctx.beginPath();
  ctx.lineWidth   = 2;
  ctx.fillStyle = 'black';
  ctx.textAlign   = "left";
  ctx.fillText(_loc[CURRENT_LAN].lan_impact,marginLeft + 20,sizeHeight - 125);
  ctx.fillText(_loc[CURRENT_LAN].lan_individual,marginLeft + 20,sizeHeight - 100);
  ctx.fillText(_loc[CURRENT_LAN].lan_social,marginLeft + 20,sizeHeight - 75);
  ctx.fillText(_loc[CURRENT_LAN].lan_political,marginLeft + 20,sizeHeight - 50);
  ctx.closePath();

  ctx.beginPath();
  ctx.fillStyle   = _labelColors[0];
  ctx.arc( marginLeft + 10,sizeHeight - 105,4,0,2*Math.PI)
  ctx.fill();
  ctx.closePath();

  ctx.beginPath();
  ctx.fillStyle   = _labelColors[1];
  ctx.arc( marginLeft + 10,sizeHeight - 80,4,0,2*Math.PI)
  ctx.fill();
  ctx.closePath();

  ctx.beginPath();
  ctx.fillStyle   = _labelColors[2];
  ctx.arc( marginLeft + 10,sizeHeight - 55,4,0,2*Math.PI)
  ctx.fill();
  ctx.closePath();




}
function addGraphGoal(){
  var canvas = document.getElementById("spider");
  var ctx = canvas.getContext("2d");
  var sizeWidth = ctx.canvas.clientWidth;
  var sizeHeight = ctx.canvas.clientHeight;
  var scaleWidth = sizeWidth/100;
  var scaleHeight = sizeHeight/100;

  var img = new Image();   // Create new img element
  _imgHeight = 150;
  _imgWidth =  _imgHeight * 1.11;
  if(sizeWidth > 500){
    img.addEventListener('load', function() {
      // execute drawImage statements here
        ctx.drawImage(img, sizeWidth - _imgHeight, 0,_imgWidth,_imgHeight);

    }, false);
    ctx.fillStyle = "black";
    ctx.textAlign = "left";
    ctx.fillText(_loc[CURRENT_LAN].lan_spider_goal,sizeWidth - (_imgWidth / 2),_imgHeight + 20);

    img.src = 'img/goals.png'; // Set source path
  }

}
function addGoals(){
  _degrees = [0,20,30,60,160,200,240,280,320,360];
  _offset = 10; //All lines will be turned with this offset.
  var canvas = document.getElementById("spider");
  var ctx = canvas.getContext("2d");
  var sizeWidth = ctx.canvas.clientWidth;
  var sizeHeight = ctx.canvas.clientHeight;
  var scaleWidth = sizeWidth/100;
  var scaleHeight = sizeHeight/100;
  values = [4,7,10]
  if(sizeWidth <  620){
    _labels = ["Very well prepared", "Quite prepared","A bit prepard"]
    _marginRightA = 30;
    _marginRightB = 30;
    _marginRightC = 25;
    ctx.font = "11px Arial";

  }else{
    _labels = ["Very well prepared", "Quite prepared","A bit prepared"]

    _marginRightA = 45;
    _marginRightB = 110;
    _marginRightC = 110;
    ctx.font = "13px Arial";

  }

  values.forEach(function(v,i){
    vi = Math.abs(v - _degrees.length);
    _rd  = r - ( vi  *  r / 10 ) //radius distance
    // convert angles to radians. Add offset
    // convert angles to radians. Add offset
    rx = (_degrees[0+i] + _offset)  * (Math.PI /180);
    ry = (_degrees[0+i] + _offset) * (Math.PI /180);
    x = centerX + _rd * Math.cos(rx);
    y = centerY + _rd * Math.sin(ry);
    ctx.beginPath();
    ctx.lineWidth   = 2;
    ctx.strokeStyle = '#848177';
    // ctx.moveTo(x,y);
    ctx.fillStyle   = "#848177";

    if(sizeWidth <  620){
      ctx.lineTo(x,sizeHeight - (10 * i) - 60);
      ctx.textAlign="left";
      if( v == 4){
        ctx.fillText("Goals",x,sizeHeight - 40);
      }
      if(v == 10){
        ctx.fillText(_labels[i],x , sizeHeight - 70);
      }else if(v == 7){
        ctx.fillText(_labels[i],x , sizeHeight - 60 );
      }else{
        ctx.fillText(_labels[i],x , sizeHeight - 50 );

      }
    }else{
      ctx.lineTo(sizeWidth,y)
      // _labels[i]
      ctx.textAlign="right";
      if( v == 4){
        ctx.fillText("Goals",sizeWidth - 10,y-15);
      }
      if(v == 10){
        ctx.fillText(_labels[i],sizeWidth - 10,y+15);
      }else{
        ctx.fillText(_labels[i],sizeWidth - 10,y+15);
      }
    }

    ctx.stroke();
  });
}
function addLeyend(show_personal){
  marginLeft = 10;
  var canvas = document.getElementById("spider");
  var ctx = canvas.getContext("2d");
  var sizeWidth = ctx.canvas.clientWidth;
  var sizeHeight = ctx.canvas.clientHeight;
  var scaleWidth = sizeWidth/100;
  var scaleHeight = sizeHeight/100;
  ctx.strokeStyle = '#293b47'; //black
  ctx.lineWidth   = 2;
  ctx.beginPath();
  if(sizeWidth <  620){
    _ln  = sizeWidth * .3;

  }else{
    _ln  = sizeWidth * .1;

  }

  marginRight = 0;
  ctx.setLineDash([0]);
  ctx.moveTo(marginLeft,100);
  ctx.lineTo(_ln,100);

  ctx.stroke();
  ctx.closePath();
  ctx.beginPath();
  ctx.font = "bold 16px Arial";
  ctx.fillStyle = '#293b47'; //black
  ctx.textAlign = "left";

  ctx.fillText(_loc[CURRENT_LAN].lan_community,marginLeft,120);
  ctx.font = "13px Arial";
  ctx.closePath();

  if(show_personal){
    ctx.beginPath();
    ctx.font = "bold 16px Arial";
    ctx.fillStyle = '#293b47'; //black
    ctx.fillText(_loc[CURRENT_LAN].lan_personal,marginLeft ,70);
    ctx.font = "13px Arial";
    ctx.closePath();
    ctx.beginPath();
    ctx.setLineDash([3]);
    ctx.stroke();
    ctx.strokeStyle = 'black'; //black
  }


  if(show_personal){
    ctx.moveTo(marginLeft,50);
    ctx.lineTo(_ln,50);
    ctx.closePath();
    ctx.stroke();
  }

  _labelColors = ["#13377f", "#6a67ce","#6d0949"]

  _labelColors.forEach(function(l,i){
    ctx.strokeStyle = '#293b47'; //black
    ctx.setLineDash([0]);
    ctx.beginPath();
    ctx.fillStyle = l;
    ctx.arc(marginLeft + _ln * (i / 3) + (_ln / 6) ,100,5,0,2*Math.PI)

    ctx.closePath();
    ctx.fill();
    ctx.stroke();

    if(show_personal){
      ctx.strokeStyle = '#black'; //black
      ctx.setLineDash([3]);
      ctx.beginPath();
      ctx.fillStyle = l;
      ctx.arc( marginLeft + _ln * (i / 3) + (_ln / 6) ,50,5,0,2*Math.PI)

      ctx.closePath();
      ctx.fill();
      ctx.stroke();
    }

  });


}
function addLeyendR(){
  marginRight = 10;
  var canvas = document.getElementById("spider");
  var ctx = canvas.getContext("2d");
  var sizeWidth = ctx.canvas.clientWidth;
  var sizeHeight = ctx.canvas.clientHeight;
  var scaleWidth = sizeWidth/100;
  var scaleHeight = sizeHeight/100;
  ctx.strokeStyle = '#293b47'; //black
  ctx.lineWidth   = 2;
  ctx.beginPath();
  if(sizeWidth <  500){
    _labelColors = ["#13377f", "#6a67ce","#6d0949"]
    _labels = [
                _loc[CURRENT_LAN].lan_spider_awareness,
                _loc[CURRENT_LAN].lan_spider_ready_to_act,
                _loc[CURRENT_LAN].lan_spider_know_how
              ]

     ctx.font = "bold 12px Arial";

    _labelColors.forEach(function(l,i){
      ctx.strokeStyle = '#293b47'; //black
      ctx.beginPath();
      ctx.fillStyle = l;
      ctx.arc(sizeWidth - marginRight - 100 ,50 + (20*i),5,0,2*Math.PI)
      ctx.fillText(_labels[i],sizeWidth - marginRight - 90 ,50 + (23*i));
      ctx.closePath();
      ctx.fill();
      ctx.stroke();
    });

  }else{
  }



}
function addPolygons(values,dashed){
  _MAX_POLIGON_VALUE = 1000;
  _EVENT_HORIZONT    = 1000000;

  _nvalues = [];
  values.forEach(function(v){
    if(v > _MAX_POLIGON_VALUE){
      if(v > _EVENT_HORIZONT){
        v = _EVENT_HORIZONT;
      }
      _nv = v / _EVENT_HORIZONT + 9;
    }else {
      _nv = v * 9 / _MAX_POLIGON_VALUE;
    }
    _nvalues.push(_nv);
  })
  values = _nvalues;
  _degrees = [0,40,80,120,160,200,240,280,320,360];
  _offset = 10; //All lines will be turned with this offset.
  var canvas = document.getElementById("spider");
  var ctx = canvas.getContext("2d");
  var sizeWidth = ctx.canvas.clientWidth;
  var sizeHeight = ctx.canvas.clientHeight;
  var scaleWidth = sizeWidth/100;
  var scaleHeight = sizeHeight/100;

  c = canvas.height * .10;


  centerX = sizeWidth/2;
  centerY = sizeHeight/2;
  r = sizeWidth *.30;
  if(sizeWidth >= sizeHeight){
    r = sizeHeight *.30;
  }

  ctx.lineWidth   = 1.5;
  ctx.strokeStyle = '#293b47';
  ctx.beginPath();

  if(dashed){
    ctx.setLineDash([1]);
    ctx.strokeStyle = '#293b47';
  }
  values.forEach(function(v,i){
    vi = Math.abs(v - _degrees.length);
    _rd  = r - ( vi  *  r / 10 ) //radius distance
    // convert angles to radians. Add offset
    // convert angles to radians. Add offset
    rx = (_degrees[i] + _offset)  * (Math.PI /180);
    ry = (_degrees[i] + _offset) * (Math.PI /180);
    x = centerX + _rd * Math.cos(rx);
    y = centerY + _rd * Math.sin(ry);
    ctx.lineTo(x,y);
    if(dashed){
      ctx.setLineDash([3]);
    }
    ctx.moveTo(x,y);

  });
  ctx.closePath();
  ctx.stroke();
  if(dashed){
    ctx.setLineDash([3]);
  }
  ctx.fillStyle="#1786e0";
  ctx.fillStyle="#e23d3d";
  ctx.fillStyle="#2dc463";
  values.forEach(function(v,i){
    vi = Math.abs(v - _degrees.length);
    _rd  = r - ( vi  *  r / 10 ) //radius distance
    // convert angles to radians. Add offset
    // convert angles to radians. Add offset
    rx = (_degrees[i] + _offset)  * (Math.PI /180);
    ry = (_degrees[i] + _offset) * (Math.PI /180);
    x = centerX + _rd * Math.cos(rx);
    y = centerY + _rd * Math.sin(ry);
    if(i < 2 ){
      ctx.fillStyle="#13377f";
    }else if(i > 2 && i < 5){
      ctx.fillStyle="#6a67ce";
    }else if(i > 5){
      ctx.fillStyle="#6d0949";
    }else if(i >= _degrees.length -1){
      ctx.fillStyle="#13377f";
    }
    if(i <= _degrees.length -2){
      ctx.beginPath();
      ctx.arc(x,y,5,0,2*Math.PI)
      ctx.closePath();
      ctx.fill();
      ctx.arc(x,y,6,0,2*Math.PI)
      ctx.stroke();
    }



  });
  ctx.closePath();

}
var _p1 = 0;
var _p2 = 0;
var _p3 = 0;

var _g1 = 0;
var _g2 = 0;
var _g3 = 0;
window.onload = function()
 {

    var elems = Array.prototype.slice.call(document.querySelectorAll('.js-switch'));

    elems.forEach(function(html) {
      var switchery = new Switchery(html, { size: 'small',color:"#468EEB" });
    });

   window.apiClient = new PowerApiClient(function(a){
     window.apiData = a;
     _p1 = apiClient.getUser().obj.gamification.personal["problem.awareness"];
     _p1 += apiClient.getUser().obj.gamification.political["problem.awareness"];
     _p1 += apiClient.getUser().obj.gamification.social["problem.awareness"];

     // ---------------------------------------------------------------------//
     _p2 = apiClient.getUser().obj.gamification.personal["practical.knowledge"];
     _p2 += apiClient.getUser().obj.gamification.political["practical.knowledge"];
     _p2 += apiClient.getUser().obj.gamification.social["practical.knowledge"];

     _p3 = apiClient.getUser().obj.gamification.personal["ready.for.action"];
     _p3 += apiClient.getUser().obj.gamification.political["ready.for.action"];
     _p3 += apiClient.getUser().obj.gamification.social["ready.for.action"];
     changeProgress(_p1,_p2,_p3);
     // ----------GLOBALS-----------------------------------------------------//
     _g1 = apiClient.getGlobal().obj.gamification.personal["problem.awareness"];
     _g1 += apiClient.getGlobal().obj.gamification.political["problem.awareness"];
     _g1 += apiClient.getGlobal().obj.gamification.social["problem.awareness"];

     _g2 = apiClient.getGlobal().obj.gamification.personal["practical.knowledge"];
     _g2 += apiClient.getGlobal().obj.gamification.political["practical.knowledge"];
     _g2 += apiClient.getGlobal().obj.gamification.social["practical.knowledge"];

     _g3 = apiClient.getGlobal().obj.gamification.personal["ready.for.action"];
     _g3 += apiClient.getGlobal().obj.gamification.political["ready.for.action"];
     _g3 += apiClient.getGlobal().obj.gamification.social["ready.for.action"];
     setGPAPoints(_g1);
     setGKHPoints(_g2);
     setGRAPoints(_g3);

     // ---------------------------------------------------------------------//
     _l1 = apiClient.getUser().obj.gamification.personal["problem.awareness"];
     _l1 += apiClient.getUser().obj.gamification.personal["practical.knowledge"];
     _l1 += apiClient.getUser().obj.gamification.personal["ready.for.action"];

     _l2 = apiClient.getUser().obj.gamification.political["problem.awareness"];
     _l2 += apiClient.getUser().obj.gamification.political["practical.knowledge"];
     _l2 += apiClient.getUser().obj.gamification.political["ready.for.action"];

     _l3 = apiClient.getUser().obj.gamification.social["problem.awareness"];
     _l3 += apiClient.getUser().obj.gamification.social["practical.knowledge"];
     _l3 += apiClient.getUser().obj.gamification.social["ready.for.action"];

     setProgressPowerBar(_l2,1);
     setProgressPowerBar(_l3,2);
     setProgressPowerBar(_l1,3);



     _h1 = apiClient.getGlobal().obj.gamification.personal["problem.awareness"];
     _h1 += apiClient.getGlobal().obj.gamification.personal["practical.knowledge"];
     _h1 += apiClient.getGlobal().obj.gamification.personal["ready.for.action"];

     _h2 = apiClient.getGlobal().obj.gamification.political["problem.awareness"];
     _h2 += apiClient.getGlobal().obj.gamification.political["practical.knowledge"];
     _h2 += apiClient.getGlobal().obj.gamification.political["ready.for.action"];

     _h3 = apiClient.getGlobal().obj.gamification.social["problem.awareness"];
     _h3 += apiClient.getGlobal().obj.gamification.social["practical.knowledge"];
     _h3 += apiClient.getGlobal().obj.gamification.social["ready.for.action"];

     // setg_pa(_h1);
     // setg_so(_h2);
     // setg_in(_h3);
     addPowerBarLevelsPA(_l2,_h1);
     addPowerBarLevelsSO(_l3,_h2);
     addPowerBarLevelsIN(_l1,_h3);
     _totalProgress = _l1 + _l2 + _l3;
     document.getElementById("total_score").innerHTML = _totalProgress;
     setWardenProgress(_totalProgress);
     resize();

   });


 }
 document.getElementsByClassName("js-switch")[2].addEventListener("change",function(e){
   toggleSpider();
 })
 document.getElementsByClassName("js-switch")[1].addEventListener("change",function(e){
   toggleLevelsPersonalImpact();
 })
 document.getElementsByClassName("js-switch")[0].addEventListener("change",function(e){
   toggleLevelsPersonalPreparedness();
 })
 function initPoligons(toggleStatus){
   initSpider();
   // addGoals();
   // addImpact();
   addGraphGoal();
   addLeyendR();
   addSize(apiClient.getGlobal().obj.participants);

   // apiClient.getGlobal().obj.gamification.social
   _dataGlobal = apiClient.getGlobal().obj.gamification;
   _dataGlobalSocial    = _dataGlobal.social;
   _dataGlobalPolitical = _dataGlobal.political;
   _dataGlobalPersonal  = _dataGlobal.personal;

   addPolygons([
                    _dataGlobalPersonal["problem.awareness"],
                    _dataGlobalSocial["problem.awareness"],
                    _dataGlobalPolitical["problem.awareness"],
                    _dataGlobalPersonal["ready.for.action"],
                    _dataGlobalSocial["ready.for.action"],
                    _dataGlobalPolitical["ready.for.action"],
                    _dataGlobalPersonal["practical.knowledge"],
                    _dataGlobalSocial["practical.knowledge"],
                    _dataGlobalPolitical["practical.knowledge"],
                    _dataGlobalPersonal["problem.awareness"],
                  ],false); //global

   if(toggleStatus){
     _dataPersonal = apiClient.getUser().obj.gamification;
     _dataPersonalSocial    = _dataPersonal.social;
     _dataPersonalPolitical = _dataPersonal.political;
     _dataPersonalPersonal  = _dataPersonal.personal;
     addPolygons([
                    _dataPersonalPersonal["problem.awareness"],
                    _dataPersonalSocial["problem.awareness"],
                    _dataPersonalPolitical["problem.awareness"],
                    _dataPersonalPersonal["ready.for.action"],
                    _dataPersonalSocial["ready.for.action"],
                    _dataPersonalPolitical["ready.for.action"],
                    _dataPersonalPersonal["practical.knowledge"],
                    _dataPersonalSocial["practical.knowledge"],
                    _dataPersonalPolitical["practical.knowledge"],
                    _dataPersonalPersonal["problem.awareness"],
                    // _dataPersonalPersonal["ready.for.action"],

                    ],true); //personal
   }
   addLeyend(toggleStatus);

 }
 function toggleSpider(){
   // _switchS = document.getElementById("myonoffswitch");
   _checked = document.getElementsByClassName("js-switch")[2].checked;
   initPoligons(_checked)
 }
 function toggleLevelsPersonalImpact(){
   _checked = document.getElementsByClassName("js-switch")[1].checked;
   pList = document.getElementsByClassName("points_separator_bar")

   for (var i = 0; i < pList.length; i++) {
      (!_checked) ? pList[i].style.display = "none" : pList[i].style.display = "block";
   }
   pList = document.getElementsByClassName("points_row_bar r")

   for (var i = 0; i < pList.length; i++) {
      (!_checked) ? pList[i].style.display = "none" : pList[i].style.display = "block";
   }



 }
 function toggleLevelsPersonalPreparedness(){
   _checked = document.getElementsByClassName("js-switch")[0].checked;
   pList = document.getElementsByClassName("points_separator")
   for (var i = 0; i < pList.length; i++) {
      (!_checked) ? pList[i].style.display = "none" : pList[i].style.display = "block";
   }
   pList = document.getElementsByClassName("points_row l")
   for (var i = 0; i < pList.length; i++) {
      (!_checked) ? pList[i].style.display = "none" : pList[i].style.display = "block";
   }

   _pp1 = document.getElementById("pag_points");
   _pp2 = document.getElementById("khg_points");
   _pp3 = document.getElementById("rag_points");
   // if(_checked){
   //   _pp1.classList.add("points_right");
   //   _pp1.classList.remove("points_left");
   //
   //   _pp2.classList.add("points_right");
   //   _pp2.classList.remove("points_left");
   //   _pp2.classList.remove("kh_bg");
   //   _pp2.classList.add("kh_txt");
   //
   //
   //   _pp3.classList.add("points_right");
   //   _pp3.classList.remove("points_left");
   //   _pp3.classList.remove("ra_bg");
   //   _pp3.classList.add("ra_txt");
   //   changeProgress(_p1,_p2,_p3);
   //
   // }else{
   //   _pp1.classList.remove("points_right");
   //   _pp1.classList.add("points_left");
   //
   //   _pp2.classList.remove("points_right");
   //   _pp2.classList.add("points_left");
   //   _pp2.classList.add("kh_bg");
   //   _pp2.classList.remove("kh_txt");
   //
   //   _pp3.classList.remove("points_right");
   //   _pp3.classList.add("points_left");
   //   _pp3.classList.add("ra_bg");
   //   _pp3.classList.remove("ra_txt");
   //   changeProgress(_g1,_g2,_g3);
   //
   //
   //
   // }

 }
 function toggleHideableArea(el){
   var w = window.innerWidth;
   _hideable_area = el.parentElement.getElementsByClassName("hideable-area")[0];
   if(_hideable_area.style.display != "none"){
     _hideable_area.style.display = "none"
     el.parentElement.style.height = "100px";
     el.classList.remove("arrow-down");
     el.classList.add("arrow-up");
   }else{
     _hideable_area.style.display = "block"
     if(el.getAttribute("data") == "1" && w < 650){
       el.parentElement.style.height = "780px";
     }else{
       el.parentElement.style.height = "auto";

     }
     el.classList.remove("arrow-up");
     el.classList.add("arrow-down");

   }
 }
 function resize(){

   if(WIDTH != window.innerWidth){
     _checked = document.getElementsByClassName("js-switch")[2].checked;
     initPoligons(_checked);
     toggleLevelsPersonalImpact();
     toggleLevelsPersonalPreparedness();
     HEIGHT = window.innerHeight;
     WIDTH  = window.innerWidth;
     if(WIDTH < 560){
       document.getElementsByClassName("indicatora")[0].style.height = "900px";
     }else{
       document.getElementsByClassName("indicatora")[0].style.height = "auto"
     }


   }

 }
 function powerPopup(content){
   _content = document.getElementById("powerPopupContent")
   _content.innerHTML = content;
   _els = document.getElementsByClassName("powerPopup");
   for (var i = 0; i < _els.length; i++) {
     _els[i].style.display = "flex";
   }
 }
 function hidePowerPopup(){
   _els = document.getElementsByClassName("powerPopup");
   for (var i = 0; i < _els.length; i++) {
     _els[i].style.display = "none";
   }
 }
function m1(){
   powerPopup(_loc[CURRENT_LAN].lan_help_m1_content)
}
function m2(){
  powerPopup(_loc[CURRENT_LAN].lan_help_m2_content)
}
function m3(){
  powerPopup(_loc[CURRENT_LAN].lan_help_m3_content)
}
function m4(){
  powerPopup(_loc[CURRENT_LAN].lan_help_m4_content)

}
function m5(){
  powerPopup(_loc[CURRENT_LAN].lan_help_m5_content)
}
function m6(){
  powerPopup(_loc[CURRENT_LAN].lan_help_m6_content)

}
</script>
</html>
